{"endpoint":"/api/admin/users","error":"Not allowed by CORS","ip":"::ffff:127.0.0.1","level":"error","message":"Unhandled error","method":"POST","service":"clinica-estetica-api","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","timestamp":"2025-07-14 16:16:14","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"endpoint":"/api/admin/logs","error":"Unknown column 'id' in 'field list'","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_ms_bitacora.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listLogs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:164:18)","timestamp":"2025-07-15 11:45:18","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"endpoint":"/api/admin/logs","error":"Unknown column 'id' in 'field list'","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_ms_bitacora.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listLogs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:164:18)","timestamp":"2025-07-15 11:45:18","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"endpoint":"/api/admin/logs","error":"Unknown column 'id' in 'field list'","ip":"::ffff:127.0.0.1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_ms_bitacora.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listLogs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:164:18)","timestamp":"2025-07-15 11:45:26","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"endpoint":"/api/admin/logs","error":"Unknown column 'id' in 'field list'","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_ms_bitacora.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listLogs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:164:18)","timestamp":"2025-07-15 11:45:26","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"endpoint":"/api/admin/logs","error":"Unknown column 'id' in 'field list'","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_ms_bitacora.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listLogs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:164:18)","timestamp":"2025-07-15 11:45:28","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"endpoint":"/api/admin/logs","error":"Unknown column 'id' in 'field list'","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_ms_bitacora.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listLogs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:164:18)","timestamp":"2025-07-15 11:45:28","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"endpoint":"/api/admin/logs","error":"Unknown column 'id' in 'field list'","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_ms_bitacora.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listLogs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:164:18)","timestamp":"2025-07-15 11:45:35","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"endpoint":"/api/admin/logs","error":"Unknown column 'id' in 'field list'","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_ms_bitacora.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listLogs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:164:18)","timestamp":"2025-07-15 11:45:35","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"endpoint":"/api/admin/logs","error":"Unknown column 'id' in 'field list'","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_ms_bitacora.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listLogs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:164:18)","timestamp":"2025-07-15 11:45:52","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"endpoint":"/api/admin/logs","error":"Unknown column 'id' in 'field list'","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_ms_bitacora.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listLogs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:164:18)","timestamp":"2025-07-15 11:45:53","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"endpoint":"/api/admin/logs","error":"Unknown column 'id' in 'field list'","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_ms_bitacora.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listLogs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:164:18)","timestamp":"2025-07-15 11:46:00","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"endpoint":"/api/admin/users","error":"Cannot read properties of undefined (reading 'atr_usuario')","ip":"::1","level":"error","message":"Unhandled error","method":"POST","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'atr_usuario')\n    at createUser (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:88:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-15 12:49:45","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"7","182":"5","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:07:07"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"7","182":"5","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:07:07"}
{"0":"E","1":"r","10":"s","100":"e","1000":"l","1001":"i","1002":"n","1003":"i","1004":"c","1005":"a","1006":"E","1007":"s","1008":"t","1009":"e","101":"r","1010":"t","1011":"i","1012":"c","1013":"a","1014":"r","1015":"o","1016":"s","1017":"a","1018":"l","1019":"e","102":"s","1020":"s","1021":"\\","1022":"B","1023":"a","1024":"c","1025":"k","1026":"e","1027":"n","1028":"d","1029":"\\","103":"\\","1030":"s","1031":"e","1032":"r","1033":"v","1034":"e","1035":"r","1036":"\\","1037":"n","1038":"o","1039":"d","104":"c","1040":"e","1041":"_","1042":"m","1043":"o","1044":"d","1045":"u","1046":"l","1047":"e","1048":"s","1049":"\\","105":"a","1050":"e","1051":"x","1052":"p","1053":"r","1054":"e","1055":"s","1056":"s","1057":"\\","1058":"l","1059":"i","106":"s","1060":"b","1061":"\\","1062":"r","1063":"o","1064":"u","1065":"t","1066":"e","1067":"r","1068":"\\","1069":"i","107":"a","1070":"n","1071":"d","1072":"e","1073":"x","1074":".","1075":"j","1076":"s","1077":":","1078":"2","1079":"8","108":"l","1080":"4","1081":":","1082":"1","1083":"5","1084":"\n","1085":" ","1086":" ","1087":" ","1088":" ","1089":"a","109":"\\","1090":"t","1091":" ","1092":"F","1093":"u","1094":"n","1095":"c","1096":"t","1097":"i","1098":"o","1099":"n","11":"e","110":"s","1100":".","1101":"p","1102":"r","1103":"o","1104":"c","1105":"e","1106":"s","1107":"s","1108":"_","1109":"p","111":"i","1110":"a","1111":"r","1112":"a","1113":"m","1114":"s","1115":" ","1116":"(","1117":"C","1118":":","1119":"\\","112":"s","1120":"U","1121":"s","1122":"e","1123":"r","1124":"s","1125":"\\","1126":"c","1127":"a","1128":"s","1129":"a","113":"t","1130":"l","1131":"\\","1132":"s","1133":"i","1134":"s","1135":"t","1136":"e","1137":"m","1138":"a","1139":"c","114":"e","1140":"l","1141":"i","1142":"n","1143":"i","1144":"c","1145":"a","1146":"E","1147":"s","1148":"t","1149":"e","115":"m","1150":"t","1151":"i","1152":"c","1153":"a","1154":"r","1155":"o","1156":"s","1157":"a","1158":"l","1159":"e","116":"a","1160":"s","1161":"\\","1162":"B","1163":"a","1164":"c","1165":"k","1166":"e","1167":"n","1168":"d","1169":"\\","117":"c","1170":"s","1171":"e","1172":"r","1173":"v","1174":"e","1175":"r","1176":"\\","1177":"n","1178":"o","1179":"d","118":"l","1180":"e","1181":"_","1182":"m","1183":"o","1184":"d","1185":"u","1186":"l","1187":"e","1188":"s","1189":"\\","119":"i","1190":"e","1191":"x","1192":"p","1193":"r","1194":"e","1195":"s","1196":"s","1197":"\\","1198":"l","1199":"i","12":" ","120":"n","1200":"b","1201":"\\","1202":"r","1203":"o","1204":"u","1205":"t","1206":"e","1207":"r","1208":"\\","1209":"i","121":"i","1210":"n","1211":"d","1212":"e","1213":"x","1214":".","1215":"j","1216":"s","1217":":","1218":"3","1219":"4","122":"c","1220":"6","1221":":","1222":"1","1223":"2","1224":")","1225":"\n","1226":" ","1227":" ","1228":" ","1229":" ","123":"a","1230":"a","1231":"t","1232":" ","1233":"n","1234":"e","1235":"x","1236":"t","1237":" ","1238":"(","1239":"C","124":"E","1240":":","1241":"\\","1242":"U","1243":"s","1244":"e","1245":"r","1246":"s","1247":"\\","1248":"c","1249":"a","125":"s","1250":"s","1251":"a","1252":"l","1253":"\\","1254":"s","1255":"i","1256":"s","1257":"t","1258":"e","1259":"m","126":"t","1260":"a","1261":"c","1262":"l","1263":"i","1264":"n","1265":"i","1266":"c","1267":"a","1268":"E","1269":"s","127":"e","1270":"t","1271":"e","1272":"t","1273":"i","1274":"c","1275":"a","1276":"r","1277":"o","1278":"s","1279":"a","128":"t","1280":"l","1281":"e","1282":"s","1283":"\\","1284":"B","1285":"a","1286":"c","1287":"k","1288":"e","1289":"n","129":"i","1290":"d","1291":"\\","1292":"s","1293":"e","1294":"r","1295":"v","1296":"e","1297":"r","1298":"\\","1299":"n","13":"p","130":"c","1300":"o","1301":"d","1302":"e","1303":"_","1304":"m","1305":"o","1306":"d","1307":"u","1308":"l","1309":"e","131":"a","1310":"s","1311":"\\","1312":"e","1313":"x","1314":"p","1315":"r","1316":"e","1317":"s","1318":"s","1319":"\\","132":"r","1320":"l","1321":"i","1322":"b","1323":"\\","1324":"r","1325":"o","1326":"u","1327":"t","1328":"e","1329":"r","133":"o","1330":"\\","1331":"i","1332":"n","1333":"d","1334":"e","1335":"x","1336":".","1337":"j","1338":"s","1339":":","134":"s","1340":"2","1341":"8","1342":"0","1343":":","1344":"1","1345":"0","1346":")","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"O","196":"b","197":"j","198":"e","199":"c","2":"r","20":"n","200":"t","201":".","202":"c","203":"o","204":"n","205":"s","206":"u","207":"l","208":"t","209":"a","21":" ","210":"r","211":"B","212":"i","213":"t","214":"a","215":"c","216":"o","217":"r","218":"a","219":" ","22":"o","220":"(","221":"C","222":":","223":"\\","224":"U","225":"s","226":"e","227":"r","228":"s","229":"\\","23":"b","230":"c","231":"a","232":"s","233":"a","234":"l","235":"\\","236":"s","237":"i","238":"s","239":"t","24":"t","240":"e","241":"m","242":"a","243":"c","244":"l","245":"i","246":"n","247":"i","248":"c","249":"a","25":"e","250":"E","251":"s","252":"t","253":"e","254":"t","255":"i","256":"c","257":"a","258":"r","259":"o","26":"n","260":"s","261":"a","262":"l","263":"e","264":"s","265":"\\","266":"B","267":"a","268":"c","269":"k","27":"e","270":"e","271":"n","272":"d","273":"\\","274":"s","275":"e","276":"r","277":"v","278":"e","279":"r","28":"r","280":"\\","281":"C","282":"o","283":"n","284":"t","285":"r","286":"o","287":"l","288":"l","289":"e","29":" ","290":"r","291":"s","292":"\\","293":"B","294":"i","295":"t","296":"a","297":"c","298":"o","299":"r","3":"o","30":"l","300":"a","301":"C","302":"o","303":"n","304":"t","305":"r","306":"o","307":"l","308":"l","309":"e","31":"o","310":"r","311":".","312":"j","313":"s","314":":","315":"4","316":"2","317":":","318":"4","319":"6","32":"s","320":")","321":"\n","322":" ","323":" ","324":" ","325":" ","326":"a","327":"t","328":" ","329":"C","33":" ","330":":","331":"\\","332":"U","333":"s","334":"e","335":"r","336":"s","337":"\\","338":"c","339":"a","34":"r","340":"s","341":"a","342":"l","343":"\\","344":"s","345":"i","346":"s","347":"t","348":"e","349":"m","35":"e","350":"a","351":"c","352":"l","353":"i","354":"n","355":"i","356":"c","357":"a","358":"E","359":"s","36":"g","360":"t","361":"e","362":"t","363":"i","364":"c","365":"a","366":"r","367":"o","368":"s","369":"a","37":"i","370":"l","371":"e","372":"s","373":"\\","374":"B","375":"a","376":"c","377":"k","378":"e","379":"n","38":"s","380":"d","381":"\\","382":"s","383":"e","384":"r","385":"v","386":"e","387":"r","388":"\\","389":"R","39":"t","390":"o","391":"u","392":"t","393":"e","394":"r","395":"s","396":"\\","397":"B","398":"i","399":"t","4":"r","40":"r","400":"a","401":"c","402":"o","403":"r","404":"a","405":"R","406":"o","407":"u","408":"t","409":"e","41":"o","410":"s","411":".","412":"j","413":"s","414":":","415":"1","416":"9","417":":","418":"4","419":"5","42":"s","420":"\n","421":" ","422":" ","423":" ","424":" ","425":"a","426":"t","427":" ","428":"L","429":"a","43":" ","430":"y","431":"e","432":"r","433":".","434":"h","435":"a","436":"n","437":"d","438":"l","439":"e","44":"d","440":" ","441":"[","442":"a","443":"s","444":" ","445":"h","446":"a","447":"n","448":"d","449":"l","45":"e","450":"e","451":"_","452":"r","453":"e","454":"q","455":"u","456":"e","457":"s","458":"t","459":"]","46":" ","460":" ","461":"(","462":"C","463":":","464":"\\","465":"U","466":"s","467":"e","468":"r","469":"s","47":"a","470":"\\","471":"c","472":"a","473":"s","474":"a","475":"l","476":"\\","477":"s","478":"i","479":"s","48":"u","480":"t","481":"e","482":"m","483":"a","484":"c","485":"l","486":"i","487":"n","488":"i","489":"c","49":"d","490":"a","491":"E","492":"s","493":"t","494":"e","495":"t","496":"i","497":"c","498":"a","499":"r","5":":","50":"i","500":"o","501":"s","502":"a","503":"l","504":"e","505":"s","506":"\\","507":"B","508":"a","509":"c","51":"t","510":"k","511":"e","512":"n","513":"d","514":"\\","515":"s","516":"e","517":"r","518":"v","519":"e","52":"o","520":"r","521":"\\","522":"n","523":"o","524":"d","525":"e","526":"_","527":"m","528":"o","529":"d","53":"r","530":"u","531":"l","532":"e","533":"s","534":"\\","535":"e","536":"x","537":"p","538":"r","539":"e","54":"í","540":"s","541":"s","542":"\\","543":"l","544":"i","545":"b","546":"\\","547":"r","548":"o","549":"u","55":"a","550":"t","551":"e","552":"r","553":"\\","554":"l","555":"a","556":"y","557":"e","558":"r","559":".","56":"\n","560":"j","561":"s","562":":","563":"9","564":"5","565":":","566":"5","567":")","568":"\n","569":" ","57":" ","570":" ","571":" ","572":" ","573":"a","574":"t","575":" ","576":"n","577":"e","578":"x","579":"t","58":" ","580":" ","581":"(","582":"C","583":":","584":"\\","585":"U","586":"s","587":"e","588":"r","589":"s","59":" ","590":"\\","591":"c","592":"a","593":"s","594":"a","595":"l","596":"\\","597":"s","598":"i","599":"s","6":" ","60":" ","600":"t","601":"e","602":"m","603":"a","604":"c","605":"l","606":"i","607":"n","608":"i","609":"c","61":"a","610":"a","611":"E","612":"s","613":"t","614":"e","615":"t","616":"i","617":"c","618":"a","619":"r","62":"t","620":"o","621":"s","622":"a","623":"l","624":"e","625":"s","626":"\\","627":"B","628":"a","629":"c","63":" ","630":"k","631":"e","632":"n","633":"d","634":"\\","635":"s","636":"e","637":"r","638":"v","639":"e","64":"B","640":"r","641":"\\","642":"n","643":"o","644":"d","645":"e","646":"_","647":"m","648":"o","649":"d","65":"i","650":"u","651":"l","652":"e","653":"s","654":"\\","655":"e","656":"x","657":"p","658":"r","659":"e","66":"t","660":"s","661":"s","662":"\\","663":"l","664":"i","665":"b","666":"\\","667":"r","668":"o","669":"u","67":"a","670":"t","671":"e","672":"r","673":"\\","674":"r","675":"o","676":"u","677":"t","678":"e","679":".","68":"c","680":"j","681":"s","682":":","683":"1","684":"4","685":"4","686":":","687":"1","688":"3","689":")","69":"o","690":"\n","691":" ","692":" ","693":" ","694":" ","695":"a","696":"t","697":" ","698":"R","699":"o","7":"N","70":"r","700":"u","701":"t","702":"e","703":".","704":"d","705":"i","706":"s","707":"p","708":"a","709":"t","71":"a","710":"c","711":"h","712":" ","713":"(","714":"C","715":":","716":"\\","717":"U","718":"s","719":"e","72":"H","720":"r","721":"s","722":"\\","723":"c","724":"a","725":"s","726":"a","727":"l","728":"\\","729":"s","73":"e","730":"i","731":"s","732":"t","733":"e","734":"m","735":"a","736":"c","737":"l","738":"i","739":"n","74":"l","740":"i","741":"c","742":"a","743":"E","744":"s","745":"t","746":"e","747":"t","748":"i","749":"c","75":"p","750":"a","751":"r","752":"o","753":"s","754":"a","755":"l","756":"e","757":"s","758":"\\","759":"B","76":"e","760":"a","761":"c","762":"k","763":"e","764":"n","765":"d","766":"\\","767":"s","768":"e","769":"r","77":"r","770":"v","771":"e","772":"r","773":"\\","774":"n","775":"o","776":"d","777":"e","778":"_","779":"m","78":".","780":"o","781":"d","782":"u","783":"l","784":"e","785":"s","786":"\\","787":"e","788":"x","789":"p","79":"o","790":"r","791":"e","792":"s","793":"s","794":"\\","795":"l","796":"i","797":"b","798":"\\","799":"r","8":"o","80":"b","800":"o","801":"u","802":"t","803":"e","804":"r","805":"\\","806":"r","807":"o","808":"u","809":"t","81":"t","810":"e","811":".","812":"j","813":"s","814":":","815":"1","816":"1","817":"4","818":":","819":"3","82":"e","820":")","821":"\n","822":" ","823":" ","824":" ","825":" ","826":"a","827":"t","828":" ","829":"L","83":"n","830":"a","831":"y","832":"e","833":"r","834":".","835":"h","836":"a","837":"n","838":"d","839":"l","84":"e","840":"e","841":" ","842":"[","843":"a","844":"s","845":" ","846":"h","847":"a","848":"n","849":"d","85":"r","850":"l","851":"e","852":"_","853":"r","854":"e","855":"q","856":"u","857":"e","858":"s","859":"t","86":"E","860":"]","861":" ","862":"(","863":"C","864":":","865":"\\","866":"U","867":"s","868":"e","869":"r","87":"v","870":"s","871":"\\","872":"c","873":"a","874":"s","875":"a","876":"l","877":"\\","878":"s","879":"i","88":"e","880":"s","881":"t","882":"e","883":"m","884":"a","885":"c","886":"l","887":"i","888":"n","889":"i","89":"n","890":"c","891":"a","892":"E","893":"s","894":"t","895":"e","896":"t","897":"i","898":"c","899":"a","9":" ","90":"t","900":"r","901":"o","902":"s","903":"a","904":"l","905":"e","906":"s","907":"\\","908":"B","909":"a","91":"o","910":"c","911":"k","912":"e","913":"n","914":"d","915":"\\","916":"s","917":"e","918":"r","919":"v","92":"s","920":"e","921":"r","922":"\\","923":"n","924":"o","925":"d","926":"e","927":"_","928":"m","929":"o","93":" ","930":"d","931":"u","932":"l","933":"e","934":"s","935":"\\","936":"e","937":"x","938":"p","939":"r","94":"(","940":"e","941":"s","942":"s","943":"\\","944":"l","945":"i","946":"b","947":"\\","948":"r","949":"o","95":"C","950":"u","951":"t","952":"e","953":"r","954":"\\","955":"l","956":"a","957":"y","958":"e","959":"r","96":":","960":".","961":"j","962":"s","963":":","964":"9","965":"5","966":":","967":"5","968":")","969":"\n","97":"\\","970":" ","971":" ","972":" ","973":" ","974":"a","975":"t","976":" ","977":"C","978":":","979":"\\","98":"U","980":"U","981":"s","982":"e","983":"r","984":"s","985":"\\","986":"c","987":"a","988":"s","989":"a","99":"s","990":"l","991":"\\","992":"s","993":"i","994":"s","995":"t","996":"e","997":"m","998":"a","999":"c","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:19:10"}
{"0":"E","1":"r","10":"s","100":"e","1000":"l","1001":"i","1002":"n","1003":"i","1004":"c","1005":"a","1006":"E","1007":"s","1008":"t","1009":"e","101":"r","1010":"t","1011":"i","1012":"c","1013":"a","1014":"r","1015":"o","1016":"s","1017":"a","1018":"l","1019":"e","102":"s","1020":"s","1021":"\\","1022":"B","1023":"a","1024":"c","1025":"k","1026":"e","1027":"n","1028":"d","1029":"\\","103":"\\","1030":"s","1031":"e","1032":"r","1033":"v","1034":"e","1035":"r","1036":"\\","1037":"n","1038":"o","1039":"d","104":"c","1040":"e","1041":"_","1042":"m","1043":"o","1044":"d","1045":"u","1046":"l","1047":"e","1048":"s","1049":"\\","105":"a","1050":"e","1051":"x","1052":"p","1053":"r","1054":"e","1055":"s","1056":"s","1057":"\\","1058":"l","1059":"i","106":"s","1060":"b","1061":"\\","1062":"r","1063":"o","1064":"u","1065":"t","1066":"e","1067":"r","1068":"\\","1069":"i","107":"a","1070":"n","1071":"d","1072":"e","1073":"x","1074":".","1075":"j","1076":"s","1077":":","1078":"2","1079":"8","108":"l","1080":"4","1081":":","1082":"1","1083":"5","1084":"\n","1085":" ","1086":" ","1087":" ","1088":" ","1089":"a","109":"\\","1090":"t","1091":" ","1092":"F","1093":"u","1094":"n","1095":"c","1096":"t","1097":"i","1098":"o","1099":"n","11":"e","110":"s","1100":".","1101":"p","1102":"r","1103":"o","1104":"c","1105":"e","1106":"s","1107":"s","1108":"_","1109":"p","111":"i","1110":"a","1111":"r","1112":"a","1113":"m","1114":"s","1115":" ","1116":"(","1117":"C","1118":":","1119":"\\","112":"s","1120":"U","1121":"s","1122":"e","1123":"r","1124":"s","1125":"\\","1126":"c","1127":"a","1128":"s","1129":"a","113":"t","1130":"l","1131":"\\","1132":"s","1133":"i","1134":"s","1135":"t","1136":"e","1137":"m","1138":"a","1139":"c","114":"e","1140":"l","1141":"i","1142":"n","1143":"i","1144":"c","1145":"a","1146":"E","1147":"s","1148":"t","1149":"e","115":"m","1150":"t","1151":"i","1152":"c","1153":"a","1154":"r","1155":"o","1156":"s","1157":"a","1158":"l","1159":"e","116":"a","1160":"s","1161":"\\","1162":"B","1163":"a","1164":"c","1165":"k","1166":"e","1167":"n","1168":"d","1169":"\\","117":"c","1170":"s","1171":"e","1172":"r","1173":"v","1174":"e","1175":"r","1176":"\\","1177":"n","1178":"o","1179":"d","118":"l","1180":"e","1181":"_","1182":"m","1183":"o","1184":"d","1185":"u","1186":"l","1187":"e","1188":"s","1189":"\\","119":"i","1190":"e","1191":"x","1192":"p","1193":"r","1194":"e","1195":"s","1196":"s","1197":"\\","1198":"l","1199":"i","12":" ","120":"n","1200":"b","1201":"\\","1202":"r","1203":"o","1204":"u","1205":"t","1206":"e","1207":"r","1208":"\\","1209":"i","121":"i","1210":"n","1211":"d","1212":"e","1213":"x","1214":".","1215":"j","1216":"s","1217":":","1218":"3","1219":"4","122":"c","1220":"6","1221":":","1222":"1","1223":"2","1224":")","1225":"\n","1226":" ","1227":" ","1228":" ","1229":" ","123":"a","1230":"a","1231":"t","1232":" ","1233":"n","1234":"e","1235":"x","1236":"t","1237":" ","1238":"(","1239":"C","124":"E","1240":":","1241":"\\","1242":"U","1243":"s","1244":"e","1245":"r","1246":"s","1247":"\\","1248":"c","1249":"a","125":"s","1250":"s","1251":"a","1252":"l","1253":"\\","1254":"s","1255":"i","1256":"s","1257":"t","1258":"e","1259":"m","126":"t","1260":"a","1261":"c","1262":"l","1263":"i","1264":"n","1265":"i","1266":"c","1267":"a","1268":"E","1269":"s","127":"e","1270":"t","1271":"e","1272":"t","1273":"i","1274":"c","1275":"a","1276":"r","1277":"o","1278":"s","1279":"a","128":"t","1280":"l","1281":"e","1282":"s","1283":"\\","1284":"B","1285":"a","1286":"c","1287":"k","1288":"e","1289":"n","129":"i","1290":"d","1291":"\\","1292":"s","1293":"e","1294":"r","1295":"v","1296":"e","1297":"r","1298":"\\","1299":"n","13":"p","130":"c","1300":"o","1301":"d","1302":"e","1303":"_","1304":"m","1305":"o","1306":"d","1307":"u","1308":"l","1309":"e","131":"a","1310":"s","1311":"\\","1312":"e","1313":"x","1314":"p","1315":"r","1316":"e","1317":"s","1318":"s","1319":"\\","132":"r","1320":"l","1321":"i","1322":"b","1323":"\\","1324":"r","1325":"o","1326":"u","1327":"t","1328":"e","1329":"r","133":"o","1330":"\\","1331":"i","1332":"n","1333":"d","1334":"e","1335":"x","1336":".","1337":"j","1338":"s","1339":":","134":"s","1340":"2","1341":"8","1342":"0","1343":":","1344":"1","1345":"0","1346":")","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"O","196":"b","197":"j","198":"e","199":"c","2":"r","20":"n","200":"t","201":".","202":"c","203":"o","204":"n","205":"s","206":"u","207":"l","208":"t","209":"a","21":" ","210":"r","211":"B","212":"i","213":"t","214":"a","215":"c","216":"o","217":"r","218":"a","219":" ","22":"o","220":"(","221":"C","222":":","223":"\\","224":"U","225":"s","226":"e","227":"r","228":"s","229":"\\","23":"b","230":"c","231":"a","232":"s","233":"a","234":"l","235":"\\","236":"s","237":"i","238":"s","239":"t","24":"t","240":"e","241":"m","242":"a","243":"c","244":"l","245":"i","246":"n","247":"i","248":"c","249":"a","25":"e","250":"E","251":"s","252":"t","253":"e","254":"t","255":"i","256":"c","257":"a","258":"r","259":"o","26":"n","260":"s","261":"a","262":"l","263":"e","264":"s","265":"\\","266":"B","267":"a","268":"c","269":"k","27":"e","270":"e","271":"n","272":"d","273":"\\","274":"s","275":"e","276":"r","277":"v","278":"e","279":"r","28":"r","280":"\\","281":"C","282":"o","283":"n","284":"t","285":"r","286":"o","287":"l","288":"l","289":"e","29":" ","290":"r","291":"s","292":"\\","293":"B","294":"i","295":"t","296":"a","297":"c","298":"o","299":"r","3":"o","30":"l","300":"a","301":"C","302":"o","303":"n","304":"t","305":"r","306":"o","307":"l","308":"l","309":"e","31":"o","310":"r","311":".","312":"j","313":"s","314":":","315":"4","316":"2","317":":","318":"4","319":"6","32":"s","320":")","321":"\n","322":" ","323":" ","324":" ","325":" ","326":"a","327":"t","328":" ","329":"C","33":" ","330":":","331":"\\","332":"U","333":"s","334":"e","335":"r","336":"s","337":"\\","338":"c","339":"a","34":"r","340":"s","341":"a","342":"l","343":"\\","344":"s","345":"i","346":"s","347":"t","348":"e","349":"m","35":"e","350":"a","351":"c","352":"l","353":"i","354":"n","355":"i","356":"c","357":"a","358":"E","359":"s","36":"g","360":"t","361":"e","362":"t","363":"i","364":"c","365":"a","366":"r","367":"o","368":"s","369":"a","37":"i","370":"l","371":"e","372":"s","373":"\\","374":"B","375":"a","376":"c","377":"k","378":"e","379":"n","38":"s","380":"d","381":"\\","382":"s","383":"e","384":"r","385":"v","386":"e","387":"r","388":"\\","389":"R","39":"t","390":"o","391":"u","392":"t","393":"e","394":"r","395":"s","396":"\\","397":"B","398":"i","399":"t","4":"r","40":"r","400":"a","401":"c","402":"o","403":"r","404":"a","405":"R","406":"o","407":"u","408":"t","409":"e","41":"o","410":"s","411":".","412":"j","413":"s","414":":","415":"1","416":"9","417":":","418":"4","419":"5","42":"s","420":"\n","421":" ","422":" ","423":" ","424":" ","425":"a","426":"t","427":" ","428":"L","429":"a","43":" ","430":"y","431":"e","432":"r","433":".","434":"h","435":"a","436":"n","437":"d","438":"l","439":"e","44":"d","440":" ","441":"[","442":"a","443":"s","444":" ","445":"h","446":"a","447":"n","448":"d","449":"l","45":"e","450":"e","451":"_","452":"r","453":"e","454":"q","455":"u","456":"e","457":"s","458":"t","459":"]","46":" ","460":" ","461":"(","462":"C","463":":","464":"\\","465":"U","466":"s","467":"e","468":"r","469":"s","47":"a","470":"\\","471":"c","472":"a","473":"s","474":"a","475":"l","476":"\\","477":"s","478":"i","479":"s","48":"u","480":"t","481":"e","482":"m","483":"a","484":"c","485":"l","486":"i","487":"n","488":"i","489":"c","49":"d","490":"a","491":"E","492":"s","493":"t","494":"e","495":"t","496":"i","497":"c","498":"a","499":"r","5":":","50":"i","500":"o","501":"s","502":"a","503":"l","504":"e","505":"s","506":"\\","507":"B","508":"a","509":"c","51":"t","510":"k","511":"e","512":"n","513":"d","514":"\\","515":"s","516":"e","517":"r","518":"v","519":"e","52":"o","520":"r","521":"\\","522":"n","523":"o","524":"d","525":"e","526":"_","527":"m","528":"o","529":"d","53":"r","530":"u","531":"l","532":"e","533":"s","534":"\\","535":"e","536":"x","537":"p","538":"r","539":"e","54":"í","540":"s","541":"s","542":"\\","543":"l","544":"i","545":"b","546":"\\","547":"r","548":"o","549":"u","55":"a","550":"t","551":"e","552":"r","553":"\\","554":"l","555":"a","556":"y","557":"e","558":"r","559":".","56":"\n","560":"j","561":"s","562":":","563":"9","564":"5","565":":","566":"5","567":")","568":"\n","569":" ","57":" ","570":" ","571":" ","572":" ","573":"a","574":"t","575":" ","576":"n","577":"e","578":"x","579":"t","58":" ","580":" ","581":"(","582":"C","583":":","584":"\\","585":"U","586":"s","587":"e","588":"r","589":"s","59":" ","590":"\\","591":"c","592":"a","593":"s","594":"a","595":"l","596":"\\","597":"s","598":"i","599":"s","6":" ","60":" ","600":"t","601":"e","602":"m","603":"a","604":"c","605":"l","606":"i","607":"n","608":"i","609":"c","61":"a","610":"a","611":"E","612":"s","613":"t","614":"e","615":"t","616":"i","617":"c","618":"a","619":"r","62":"t","620":"o","621":"s","622":"a","623":"l","624":"e","625":"s","626":"\\","627":"B","628":"a","629":"c","63":" ","630":"k","631":"e","632":"n","633":"d","634":"\\","635":"s","636":"e","637":"r","638":"v","639":"e","64":"B","640":"r","641":"\\","642":"n","643":"o","644":"d","645":"e","646":"_","647":"m","648":"o","649":"d","65":"i","650":"u","651":"l","652":"e","653":"s","654":"\\","655":"e","656":"x","657":"p","658":"r","659":"e","66":"t","660":"s","661":"s","662":"\\","663":"l","664":"i","665":"b","666":"\\","667":"r","668":"o","669":"u","67":"a","670":"t","671":"e","672":"r","673":"\\","674":"r","675":"o","676":"u","677":"t","678":"e","679":".","68":"c","680":"j","681":"s","682":":","683":"1","684":"4","685":"4","686":":","687":"1","688":"3","689":")","69":"o","690":"\n","691":" ","692":" ","693":" ","694":" ","695":"a","696":"t","697":" ","698":"R","699":"o","7":"N","70":"r","700":"u","701":"t","702":"e","703":".","704":"d","705":"i","706":"s","707":"p","708":"a","709":"t","71":"a","710":"c","711":"h","712":" ","713":"(","714":"C","715":":","716":"\\","717":"U","718":"s","719":"e","72":"H","720":"r","721":"s","722":"\\","723":"c","724":"a","725":"s","726":"a","727":"l","728":"\\","729":"s","73":"e","730":"i","731":"s","732":"t","733":"e","734":"m","735":"a","736":"c","737":"l","738":"i","739":"n","74":"l","740":"i","741":"c","742":"a","743":"E","744":"s","745":"t","746":"e","747":"t","748":"i","749":"c","75":"p","750":"a","751":"r","752":"o","753":"s","754":"a","755":"l","756":"e","757":"s","758":"\\","759":"B","76":"e","760":"a","761":"c","762":"k","763":"e","764":"n","765":"d","766":"\\","767":"s","768":"e","769":"r","77":"r","770":"v","771":"e","772":"r","773":"\\","774":"n","775":"o","776":"d","777":"e","778":"_","779":"m","78":".","780":"o","781":"d","782":"u","783":"l","784":"e","785":"s","786":"\\","787":"e","788":"x","789":"p","79":"o","790":"r","791":"e","792":"s","793":"s","794":"\\","795":"l","796":"i","797":"b","798":"\\","799":"r","8":"o","80":"b","800":"o","801":"u","802":"t","803":"e","804":"r","805":"\\","806":"r","807":"o","808":"u","809":"t","81":"t","810":"e","811":".","812":"j","813":"s","814":":","815":"1","816":"1","817":"4","818":":","819":"3","82":"e","820":")","821":"\n","822":" ","823":" ","824":" ","825":" ","826":"a","827":"t","828":" ","829":"L","83":"n","830":"a","831":"y","832":"e","833":"r","834":".","835":"h","836":"a","837":"n","838":"d","839":"l","84":"e","840":"e","841":" ","842":"[","843":"a","844":"s","845":" ","846":"h","847":"a","848":"n","849":"d","85":"r","850":"l","851":"e","852":"_","853":"r","854":"e","855":"q","856":"u","857":"e","858":"s","859":"t","86":"E","860":"]","861":" ","862":"(","863":"C","864":":","865":"\\","866":"U","867":"s","868":"e","869":"r","87":"v","870":"s","871":"\\","872":"c","873":"a","874":"s","875":"a","876":"l","877":"\\","878":"s","879":"i","88":"e","880":"s","881":"t","882":"e","883":"m","884":"a","885":"c","886":"l","887":"i","888":"n","889":"i","89":"n","890":"c","891":"a","892":"E","893":"s","894":"t","895":"e","896":"t","897":"i","898":"c","899":"a","9":" ","90":"t","900":"r","901":"o","902":"s","903":"a","904":"l","905":"e","906":"s","907":"\\","908":"B","909":"a","91":"o","910":"c","911":"k","912":"e","913":"n","914":"d","915":"\\","916":"s","917":"e","918":"r","919":"v","92":"s","920":"e","921":"r","922":"\\","923":"n","924":"o","925":"d","926":"e","927":"_","928":"m","929":"o","93":" ","930":"d","931":"u","932":"l","933":"e","934":"s","935":"\\","936":"e","937":"x","938":"p","939":"r","94":"(","940":"e","941":"s","942":"s","943":"\\","944":"l","945":"i","946":"b","947":"\\","948":"r","949":"o","95":"C","950":"u","951":"t","952":"e","953":"r","954":"\\","955":"l","956":"a","957":"y","958":"e","959":"r","96":":","960":".","961":"j","962":"s","963":":","964":"9","965":"5","966":":","967":"5","968":")","969":"\n","97":"\\","970":" ","971":" ","972":" ","973":" ","974":"a","975":"t","976":" ","977":"C","978":":","979":"\\","98":"U","980":"U","981":"s","982":"e","983":"r","984":"s","985":"\\","986":"c","987":"a","988":"s","989":"a","99":"s","990":"l","991":"\\","992":"s","993":"i","994":"s","995":"t","996":"e","997":"m","998":"a","999":"c","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:19:10"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:24:49"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:24:50"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:25:06"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:25:14"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:25:14"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:25:21"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:25:23"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:31:01"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:31:01"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:31:29"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:31:29"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:35:33"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:35:41"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:35:41"}
{"0":"E","1":"r","10":"s","100":"e","101":"r","102":"s","103":"\\","104":"c","105":"a","106":"s","107":"a","108":"l","109":"\\","11":"e","110":"s","111":"i","112":"s","113":"t","114":"e","115":"m","116":"a","117":"c","118":"l","119":"i","12":" ","120":"n","121":"i","122":"c","123":"a","124":"E","125":"s","126":"t","127":"e","128":"t","129":"i","13":"p","130":"c","131":"a","132":"r","133":"o","134":"s","135":"a","136":"l","137":"e","138":"s","139":"\\","14":"u","140":"B","141":"a","142":"c","143":"k","144":"e","145":"n","146":"d","147":"\\","148":"s","149":"e","15":"d","150":"r","151":"v","152":"e","153":"r","154":"\\","155":"h","156":"e","157":"l","158":"p","159":"e","16":"i","160":"r","161":"s","162":"\\","163":"b","164":"i","165":"t","166":"a","167":"c","168":"o","169":"r","17":"e","170":"a","171":"H","172":"e","173":"l","174":"p","175":"e","176":"r","177":".","178":"j","179":"s","18":"r","180":":","181":"8","182":"4","183":":","184":"1","185":"9","186":")","187":"\n","188":" ","189":" ","19":"o","190":" ","191":" ","192":"a","193":"t","194":" ","195":"p","196":"r","197":"o","198":"c","199":"e","2":"r","20":"n","200":"s","201":"s","202":".","203":"p","204":"r","205":"o","206":"c","207":"e","208":"s","209":"s","21":" ","210":"T","211":"i","212":"c","213":"k","214":"s","215":"A","216":"n","217":"d","218":"R","219":"e","22":"o","220":"j","221":"e","222":"c","223":"t","224":"i","225":"o","226":"n","227":"s","228":" ","229":"(","23":"b","230":"n","231":"o","232":"d","233":"e","234":":","235":"i","236":"n","237":"t","238":"e","239":"r","24":"t","240":"n","241":"a","242":"l","243":"/","244":"p","245":"r","246":"o","247":"c","248":"e","249":"s","25":"e","250":"s","251":"/","252":"t","253":"a","254":"s","255":"k","256":"_","257":"q","258":"u","259":"e","26":"n","260":"u","261":"e","262":"s","263":":","264":"1","265":"0","266":"5","267":":","268":"5","269":")","27":"e","270":"\n","271":" ","272":" ","273":" ","274":" ","275":"a","276":"t","277":" ","278":"a","279":"s","28":"r","280":"y","281":"n","282":"c","283":" ","284":"O","285":"b","286":"j","287":"e","288":"c","289":"t","29":" ","290":".","291":"c","292":"o","293":"n","294":"s","295":"u","296":"l","297":"t","298":"a","299":"r","3":"o","30":"l","300":"B","301":"i","302":"t","303":"a","304":"c","305":"o","306":"r","307":"a","308":" ","309":"(","31":"o","310":"C","311":":","312":"\\","313":"U","314":"s","315":"e","316":"r","317":"s","318":"\\","319":"c","32":"s","320":"a","321":"s","322":"a","323":"l","324":"\\","325":"s","326":"i","327":"s","328":"t","329":"e","33":" ","330":"m","331":"a","332":"c","333":"l","334":"i","335":"n","336":"i","337":"c","338":"a","339":"E","34":"r","340":"s","341":"t","342":"e","343":"t","344":"i","345":"c","346":"a","347":"r","348":"o","349":"s","35":"e","350":"a","351":"l","352":"e","353":"s","354":"\\","355":"B","356":"a","357":"c","358":"k","359":"e","36":"g","360":"n","361":"d","362":"\\","363":"s","364":"e","365":"r","366":"v","367":"e","368":"r","369":"\\","37":"i","370":"C","371":"o","372":"n","373":"t","374":"r","375":"o","376":"l","377":"l","378":"e","379":"r","38":"s","380":"s","381":"\\","382":"B","383":"i","384":"t","385":"a","386":"c","387":"o","388":"r","389":"a","39":"t","390":"C","391":"o","392":"n","393":"t","394":"r","395":"o","396":"l","397":"l","398":"e","399":"r","4":"r","40":"r","400":".","401":"j","402":"s","403":":","404":"4","405":"2","406":":","407":"2","408":"5","409":")","41":"o","410":"\n","411":" ","412":" ","413":" ","414":" ","415":"a","416":"t","417":" ","418":"a","419":"s","42":"s","420":"y","421":"n","422":"c","423":" ","424":"C","425":":","426":"\\","427":"U","428":"s","429":"e","43":" ","430":"r","431":"s","432":"\\","433":"c","434":"a","435":"s","436":"a","437":"l","438":"\\","439":"s","44":"d","440":"i","441":"s","442":"t","443":"e","444":"m","445":"a","446":"c","447":"l","448":"i","449":"n","45":"e","450":"i","451":"c","452":"a","453":"E","454":"s","455":"t","456":"e","457":"t","458":"i","459":"c","46":" ","460":"a","461":"r","462":"o","463":"s","464":"a","465":"l","466":"e","467":"s","468":"\\","469":"B","47":"a","470":"a","471":"c","472":"k","473":"e","474":"n","475":"d","476":"\\","477":"s","478":"e","479":"r","48":"u","480":"v","481":"e","482":"r","483":"\\","484":"R","485":"o","486":"u","487":"t","488":"e","489":"r","49":"d","490":"s","491":"\\","492":"B","493":"i","494":"t","495":"a","496":"c","497":"o","498":"r","499":"a","5":":","50":"i","500":"R","501":"o","502":"u","503":"t","504":"e","505":"s","506":".","507":"j","508":"s","509":":","51":"t","510":"1","511":"9","512":":","513":"2","514":"0","52":"o","53":"r","54":"í","55":"a","56":"\n","57":" ","58":" ","59":" ","6":" ","60":" ","61":"a","62":"t","63":" ","64":"B","65":"i","66":"t","67":"a","68":"c","69":"o","7":"N","70":"r","71":"a","72":"H","73":"e","74":"l","75":"p","76":"e","77":"r","78":".","79":"o","8":"o","80":"b","81":"t","82":"e","83":"n","84":"e","85":"r","86":"E","87":"v","88":"e","89":"n","9":" ","90":"t","91":"o","92":"s","93":" ","94":"(","95":"C","96":":","97":"\\","98":"U","99":"s","level":"error","message":"Error al consultar bitácora: No se pudieron obtener los registros de auditoría","service":"clinica-estetica-api","timestamp":"2025-07-17 23:35:46"}
{"0":"T","1":"y","10":" ","100":":","101":"\\","102":"U","103":"s","104":"e","105":"r","106":"s","107":"\\","108":"c","109":"a","11":"C","110":"s","111":"a","112":"l","113":"\\","114":"s","115":"i","116":"s","117":"t","118":"e","119":"m","12":"a","120":"a","121":"c","122":"l","123":"i","124":"n","125":"i","126":"c","127":"a","128":"E","129":"s","13":"n","130":"t","131":"e","132":"t","133":"i","134":"c","135":"a","136":"r","137":"o","138":"s","139":"a","14":"n","140":"l","141":"e","142":"s","143":"\\","144":"B","145":"a","146":"c","147":"k","148":"e","149":"n","15":"o","150":"d","151":"\\","152":"s","153":"e","154":"r","155":"v","156":"e","157":"r","158":"\\","159":"C","16":"t","160":"o","161":"n","162":"t","163":"r","164":"o","165":"l","166":"l","167":"e","168":"r","169":"s","17":" ","170":"\\","171":"B","172":"i","173":"t","174":"a","175":"c","176":"o","177":"r","178":"a","179":"C","18":"r","180":"o","181":"n","182":"t","183":"r","184":"o","185":"l","186":"l","187":"e","188":"r","189":".","19":"e","190":"j","191":"s","192":":","193":"4","194":"3","195":":","196":"1","197":"1","198":"6","199":")","2":"p","20":"a","200":"\n","201":" ","202":" ","203":" ","204":" ","205":"a","206":"t","207":" ","208":"p","209":"r","21":"d","210":"o","211":"c","212":"e","213":"s","214":"s","215":".","216":"p","217":"r","218":"o","219":"c","22":" ","220":"e","221":"s","222":"s","223":"T","224":"i","225":"c","226":"k","227":"s","228":"A","229":"n","23":"p","230":"d","231":"R","232":"e","233":"j","234":"e","235":"c","236":"t","237":"i","238":"o","239":"n","24":"r","240":"s","241":" ","242":"(","243":"n","244":"o","245":"d","246":"e","247":":","248":"i","249":"n","25":"o","250":"t","251":"e","252":"r","253":"n","254":"a","255":"l","256":"/","257":"p","258":"r","259":"o","26":"p","260":"c","261":"e","262":"s","263":"s","264":"/","265":"t","266":"a","267":"s","268":"k","269":"_","27":"e","270":"q","271":"u","272":"e","273":"u","274":"e","275":"s","276":":","277":"1","278":"0","279":"5","28":"r","280":":","281":"5","282":")","283":"\n","284":" ","285":" ","286":" ","287":" ","288":"a","289":"t","29":"t","290":" ","291":"a","292":"s","293":"y","294":"n","295":"c","296":" ","297":"C","298":":","299":"\\","3":"e","30":"i","300":"U","301":"s","302":"e","303":"r","304":"s","305":"\\","306":"c","307":"a","308":"s","309":"a","31":"e","310":"l","311":"\\","312":"s","313":"i","314":"s","315":"t","316":"e","317":"m","318":"a","319":"c","32":"s","320":"l","321":"i","322":"n","323":"i","324":"c","325":"a","326":"E","327":"s","328":"t","329":"e","33":" ","330":"t","331":"i","332":"c","333":"a","334":"r","335":"o","336":"s","337":"a","338":"l","339":"e","34":"o","340":"s","341":"\\","342":"B","343":"a","344":"c","345":"k","346":"e","347":"n","348":"d","349":"\\","35":"f","350":"s","351":"e","352":"r","353":"v","354":"e","355":"r","356":"\\","357":"R","358":"o","359":"u","36":" ","360":"t","361":"e","362":"r","363":"s","364":"\\","365":"B","366":"i","367":"t","368":"a","369":"c","37":"u","370":"o","371":"r","372":"a","373":"R","374":"o","375":"u","376":"t","377":"e","378":"s","379":".","38":"n","380":"j","381":"s","382":":","383":"1","384":"9","385":":","386":"2","387":"0","39":"d","4":"E","40":"e","41":"f","42":"i","43":"n","44":"e","45":"d","46":" ","47":"(","48":"r","49":"e","5":"r","50":"a","51":"d","52":"i","53":"n","54":"g","55":" ","56":"'","57":"l","58":"e","59":"n","6":"r","60":"g","61":"t","62":"h","63":"'","64":")","65":"\n","66":" ","67":" ","68":" ","69":" ","7":"o","70":"a","71":"t","72":" ","73":"O","74":"b","75":"j","76":"e","77":"c","78":"t","79":".","8":"r","80":"c","81":"o","82":"n","83":"s","84":"u","85":"l","86":"t","87":"a","88":"r","89":"B","9":":","90":"i","91":"t","92":"a","93":"c","94":"o","95":"r","96":"a","97":" ","98":"(","99":"C","level":"error","message":"Error al consultar bitácora: Cannot read properties of undefined (reading 'length')","service":"clinica-estetica-api","timestamp":"2025-07-18 09:07:36"}
{"0":"T","1":"y","10":" ","100":":","101":"\\","102":"U","103":"s","104":"e","105":"r","106":"s","107":"\\","108":"c","109":"a","11":"C","110":"s","111":"a","112":"l","113":"\\","114":"s","115":"i","116":"s","117":"t","118":"e","119":"m","12":"a","120":"a","121":"c","122":"l","123":"i","124":"n","125":"i","126":"c","127":"a","128":"E","129":"s","13":"n","130":"t","131":"e","132":"t","133":"i","134":"c","135":"a","136":"r","137":"o","138":"s","139":"a","14":"n","140":"l","141":"e","142":"s","143":"\\","144":"B","145":"a","146":"c","147":"k","148":"e","149":"n","15":"o","150":"d","151":"\\","152":"s","153":"e","154":"r","155":"v","156":"e","157":"r","158":"\\","159":"C","16":"t","160":"o","161":"n","162":"t","163":"r","164":"o","165":"l","166":"l","167":"e","168":"r","169":"s","17":" ","170":"\\","171":"B","172":"i","173":"t","174":"a","175":"c","176":"o","177":"r","178":"a","179":"C","18":"r","180":"o","181":"n","182":"t","183":"r","184":"o","185":"l","186":"l","187":"e","188":"r","189":".","19":"e","190":"j","191":"s","192":":","193":"4","194":"3","195":":","196":"1","197":"1","198":"6","199":")","2":"p","20":"a","200":"\n","201":" ","202":" ","203":" ","204":" ","205":"a","206":"t","207":" ","208":"p","209":"r","21":"d","210":"o","211":"c","212":"e","213":"s","214":"s","215":".","216":"p","217":"r","218":"o","219":"c","22":" ","220":"e","221":"s","222":"s","223":"T","224":"i","225":"c","226":"k","227":"s","228":"A","229":"n","23":"p","230":"d","231":"R","232":"e","233":"j","234":"e","235":"c","236":"t","237":"i","238":"o","239":"n","24":"r","240":"s","241":" ","242":"(","243":"n","244":"o","245":"d","246":"e","247":":","248":"i","249":"n","25":"o","250":"t","251":"e","252":"r","253":"n","254":"a","255":"l","256":"/","257":"p","258":"r","259":"o","26":"p","260":"c","261":"e","262":"s","263":"s","264":"/","265":"t","266":"a","267":"s","268":"k","269":"_","27":"e","270":"q","271":"u","272":"e","273":"u","274":"e","275":"s","276":":","277":"1","278":"0","279":"5","28":"r","280":":","281":"5","282":")","283":"\n","284":" ","285":" ","286":" ","287":" ","288":"a","289":"t","29":"t","290":" ","291":"a","292":"s","293":"y","294":"n","295":"c","296":" ","297":"C","298":":","299":"\\","3":"e","30":"i","300":"U","301":"s","302":"e","303":"r","304":"s","305":"\\","306":"c","307":"a","308":"s","309":"a","31":"e","310":"l","311":"\\","312":"s","313":"i","314":"s","315":"t","316":"e","317":"m","318":"a","319":"c","32":"s","320":"l","321":"i","322":"n","323":"i","324":"c","325":"a","326":"E","327":"s","328":"t","329":"e","33":" ","330":"t","331":"i","332":"c","333":"a","334":"r","335":"o","336":"s","337":"a","338":"l","339":"e","34":"o","340":"s","341":"\\","342":"B","343":"a","344":"c","345":"k","346":"e","347":"n","348":"d","349":"\\","35":"f","350":"s","351":"e","352":"r","353":"v","354":"e","355":"r","356":"\\","357":"R","358":"o","359":"u","36":" ","360":"t","361":"e","362":"r","363":"s","364":"\\","365":"B","366":"i","367":"t","368":"a","369":"c","37":"u","370":"o","371":"r","372":"a","373":"R","374":"o","375":"u","376":"t","377":"e","378":"s","379":".","38":"n","380":"j","381":"s","382":":","383":"1","384":"9","385":":","386":"2","387":"0","39":"d","4":"E","40":"e","41":"f","42":"i","43":"n","44":"e","45":"d","46":" ","47":"(","48":"r","49":"e","5":"r","50":"a","51":"d","52":"i","53":"n","54":"g","55":" ","56":"'","57":"l","58":"e","59":"n","6":"r","60":"g","61":"t","62":"h","63":"'","64":")","65":"\n","66":" ","67":" ","68":" ","69":" ","7":"o","70":"a","71":"t","72":" ","73":"O","74":"b","75":"j","76":"e","77":"c","78":"t","79":".","8":"r","80":"c","81":"o","82":"n","83":"s","84":"u","85":"l","86":"t","87":"a","88":"r","89":"B","9":":","90":"i","91":"t","92":"a","93":"c","94":"o","95":"r","96":"a","97":" ","98":"(","99":"C","level":"error","message":"Error al consultar bitácora: Cannot read properties of undefined (reading 'length')","service":"clinica-estetica-api","timestamp":"2025-07-18 09:07:39"}
{"endpoint":"/api/admin/users","error":"Unknown column 'atr_avatar' in 'field list'","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_ms_usuario.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Promise.all (index 1)\n    at async tbl_ms_usuario.findAndCountAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1322:27)\n    at async listUsers (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:32:29)","timestamp":"2025-07-19 14:39:16","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"endpoint":"/api/admin/users","error":"Unknown column 'atr_avatar' in 'field list'","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_ms_usuario.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Promise.all (index 1)\n    at async tbl_ms_usuario.findAndCountAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1322:27)\n    at async listUsers (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:32:29)","timestamp":"2025-07-19 14:39:16","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0"}
{"error":"Cannot read properties of undefined (reading 'appointment')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-20 17:24:51"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'appointment')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-20 17:24:51","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'appointment')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-20 17:24:51"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'appointment')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-20 17:24:51","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 OPR/119.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'appointment')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 14:52:32"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'appointment')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 14:52:32","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'appointment')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 14:52:32"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'appointment')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 14:52:32","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'appointment')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 16:00:16"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'appointment')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 16:00:16","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'appointment')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 16:00:16"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'appointment')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 16:00:16","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'appointment')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 16:53:02"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'appointment')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 16:53:02","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'appointment')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 16:53:02"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'appointment')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 16:53:02","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'appointment')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 17:16:32"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'appointment')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 17:16:32","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'appointment')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 17:16:32"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'appointment')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-21 17:16:32","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'appointment')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-22 10:33:56"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'appointment')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-22 10:33:56","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'appointment')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-22 10:33:56"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'appointment')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'appointment')\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:47)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-22 10:33:56","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'findAll')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'findAll')\n    at Object.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:11:24)\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:59)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7","timestamp":"2025-07-22 12:37:07"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'findAll')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'findAll')\n    at Object.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:11:24)\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:59)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7","timestamp":"2025-07-22 12:37:07","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'findAll')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'findAll')\n    at Object.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:11:24)\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:59)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7","timestamp":"2025-07-22 12:37:08"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'findAll')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'findAll')\n    at Object.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:11:24)\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:59)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7","timestamp":"2025-07-22 12:37:08","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'findAll')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'findAll')\n    at Object.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:11:24)\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:59)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7","timestamp":"2025-07-22 12:37:43"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'findAll')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'findAll')\n    at Object.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:11:24)\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:59)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7","timestamp":"2025-07-22 12:37:43","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"error":"Cannot read properties of undefined (reading 'findAll')","level":"error","message":"Error listar citas","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'findAll')\n    at Object.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:11:24)\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:59)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7","timestamp":"2025-07-22 12:37:43"}
{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'findAll')","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'findAll')\n    at Object.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:11:24)\n    at list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:59)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-rate-limit\\dist\\index.cjs:807:7","timestamp":"2025-07-22 12:37:43","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14}
{"endpoint":"/api/pacientes","error":"Not allowed by CORS","ip":"::1","level":"error","message":"Unhandled error","method":"OPTIONS","service":"clinica-estetica-api","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","timestamp":"2025-07-24 20:41:08","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0"}
{"endpoint":"/api/pacientes","error":"Not allowed by CORS","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","timestamp":"2025-07-24 20:41:08","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0"}
{"endpoint":"/api/pacientes","error":"Not allowed by CORS","ip":"::1","level":"error","message":"Unhandled error","method":"OPTIONS","service":"clinica-estetica-api","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","timestamp":"2025-07-24 20:41:20","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0"}
{"endpoint":"/api/pacientes","error":"Not allowed by CORS","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","timestamp":"2025-07-24 20:41:20","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0"}
{"endpoint":"/api/pacientes","error":"Not allowed by CORS","ip":"::1","level":"error","message":"Unhandled error","method":"OPTIONS","service":"clinica-estetica-api","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","timestamp":"2025-07-24 20:41:34","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0"}
{"endpoint":"/api/pacientes","error":"Not allowed by CORS","ip":"::1","level":"error","message":"Unhandled error","method":"GET","service":"clinica-estetica-api","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","timestamp":"2025-07-24 20:41:34","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0"}
{"error":"Invalid use of NULL value","level":"error","message":"❌ Error crítico al iniciar el servidor","name":"SequelizeDatabaseError","original":{"code":"ER_INVALID_USE_OF_NULL","errno":1138,"sql":"ALTER TABLE `tbl_objetos` CHANGE `atr_fecha_creacion` `atr_fecha_creacion` DATE NOT NULL;","sqlMessage":"Invalid use of NULL value","sqlState":"22004"},"parameters":{},"parent":{"code":"ER_INVALID_USE_OF_NULL","errno":1138,"sql":"ALTER TABLE `tbl_objetos` CHANGE `atr_fecha_creacion` `atr_fecha_creacion` DATE NOT NULL;","sqlMessage":"Invalid use of NULL value","sqlState":"22004"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_objetos` CHANGE `atr_fecha_creacion` `atr_fecha_creacion` DATE NOT NULL;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Objeto.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:377:9)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:140:13","timestamp":"2025-07-27 11:45:06"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:35:49"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:35:49"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:35:49"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:35:49"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:35:58"}
{"error":{"endpoint":"/api/roles","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:35:58"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:35:58"}
{"error":{"endpoint":"/api/roles","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:35:58"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:08"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:08"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:08"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:08"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:22"}
{"error":{"endpoint":"/api/roles","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:22"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:22"}
{"error":{"endpoint":"/api/roles","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:22"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:28"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:28"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:28"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:28"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:38"}
{"error":{"endpoint":"/api/roles","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:38"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:39"}
{"error":{"endpoint":"/api/roles","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:39"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:40"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:40"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:40"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:36:40"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:10"}
{"error":{"endpoint":"/api/roles","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:10"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:10"}
{"error":{"endpoint":"/api/roles","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:10"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:19"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:19"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:19"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:19"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:30"}
{"error":{"endpoint":"/api/roles","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:30"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:30"}
{"error":{"endpoint":"/api/roles","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:30"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:37"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:37"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:37"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:38:37"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:39:19"}
{"error":{"endpoint":"/api/roles","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:39:19"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:39:20"}
{"error":{"endpoint":"/api/roles","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:39:20"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:39:22"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:39:22"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:39:22"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"generateError is not a function","ip":"::1","method":"GET","stack":"TypeError: generateError is not a function\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:39:22"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:47:18"}
{"error":{"endpoint":"/api/roles","error":"Error al obtener los roles.","ip":"::1","method":"GET","stack":"CustomError: Error al obtener los roles.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:47:18"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:47:18"}
{"error":{"endpoint":"/api/roles","error":"Error al obtener los roles.","ip":"::1","method":"GET","stack":"CustomError: Error al obtener los roles.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:47:18"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:47:20"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"Error al obtener los roles.","ip":"::1","method":"GET","stack":"CustomError: Error al obtener los roles.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:47:20"}
{"level":"error","message":"RolService: Error al obtener todos los roles - Unknown column 'atr_activo' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-07-27 13:47:20"}
{"error":{"endpoint":"/api/roles?page=1&limit=10","error":"Error al obtener los roles.","ip":"::1","method":"GET","stack":"CustomError: Error al obtener los roles.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at RolService.getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\RolService.js:106:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllRoles (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\RolController.js:63:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 13:47:20"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 15:23:53"}
{"error":{"endpoint":"/api/permisos/rol/2","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 15:24:06"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 15:24:11"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 17:20:06"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 17:20:19"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-27 17:22:42"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-28 07:55:46"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-28 09:27:23"}
{"error":{"endpoint":"/api/permisos/rol/2","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-28 09:27:44"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-28 09:32:02"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-28 09:45:32"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-28 10:00:15"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-28 10:01:11"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-28 10:28:54"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-07-31 08:58:10"}
{"error":"Failed to open the referenced table 'patient'","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_FK_CANNOT_OPEN_PARENT","errno":1824,"sql":"CREATE TABLE IF NOT EXISTS `treatments` (`atr_id_tratamiento` INTEGER NOT NULL auto_increment , `atr_id_paciente` INTEGER NOT NULL, `atr_id_medico` INTEGER NOT NULL, `atr_tipo_tratamiento` VARCHAR(100) NOT NULL, `atr_descripcion` TEXT, `atr_fecha_inicio` DATETIME NOT NULL, `atr_fecha_fin` DATETIME, `atr_frecuencia` VARCHAR(50), `atr_duracion` VARCHAR(50), `atr_medicamentos` TEXT, `atr_observaciones` TEXT, `atr_estado` ENUM('ACTIVO', 'COMPLETADO', 'CANCELADO', 'SUSPENDIDO') NOT NULL DEFAULT 'ACTIVO', `atr_fecha_creacion` DATETIME NOT NULL, `atr_fecha_actualizacion` DATETIME NOT NULL, PRIMARY KEY (`atr_id_tratamiento`), FOREIGN KEY (`atr_id_paciente`) REFERENCES `Patient` (`atr_id_paciente`) ON DELETE NO ACTION ON UPDATE CASCADE, FOREIGN KEY (`atr_id_medico`) REFERENCES `Doctor` (`atr_id_medico`) ON DELETE NO ACTION ON UPDATE CASCADE) ENGINE=InnoDB;","sqlMessage":"Failed to open the referenced table 'patient'","sqlState":"HY000"},"parameters":{},"parent":{"code":"ER_FK_CANNOT_OPEN_PARENT","errno":1824,"sql":"CREATE TABLE IF NOT EXISTS `treatments` (`atr_id_tratamiento` INTEGER NOT NULL auto_increment , `atr_id_paciente` INTEGER NOT NULL, `atr_id_medico` INTEGER NOT NULL, `atr_tipo_tratamiento` VARCHAR(100) NOT NULL, `atr_descripcion` TEXT, `atr_fecha_inicio` DATETIME NOT NULL, `atr_fecha_fin` DATETIME, `atr_frecuencia` VARCHAR(50), `atr_duracion` VARCHAR(50), `atr_medicamentos` TEXT, `atr_observaciones` TEXT, `atr_estado` ENUM('ACTIVO', 'COMPLETADO', 'CANCELADO', 'SUSPENDIDO') NOT NULL DEFAULT 'ACTIVO', `atr_fecha_creacion` DATETIME NOT NULL, `atr_fecha_actualizacion` DATETIME NOT NULL, PRIMARY KEY (`atr_id_tratamiento`), FOREIGN KEY (`atr_id_paciente`) REFERENCES `Patient` (`atr_id_paciente`) ON DELETE NO ACTION ON UPDATE CASCADE, FOREIGN KEY (`atr_id_medico`) REFERENCES `Doctor` (`atr_id_medico`) ON DELETE NO ACTION ON UPDATE CASCADE) ENGINE=InnoDB;","sqlMessage":"Failed to open the referenced table 'patient'","sqlState":"HY000"},"service":"clinica-estetica-api","sql":"CREATE TABLE IF NOT EXISTS `treatments` (`atr_id_tratamiento` INTEGER NOT NULL auto_increment , `atr_id_paciente` INTEGER NOT NULL, `atr_id_medico` INTEGER NOT NULL, `atr_tipo_tratamiento` VARCHAR(100) NOT NULL, `atr_descripcion` TEXT, `atr_fecha_inicio` DATETIME NOT NULL, `atr_fecha_fin` DATETIME, `atr_frecuencia` VARCHAR(50), `atr_duracion` VARCHAR(50), `atr_medicamentos` TEXT, `atr_observaciones` TEXT, `atr_estado` ENUM('ACTIVO', 'COMPLETADO', 'CANCELADO', 'SUSPENDIDO') NOT NULL DEFAULT 'ACTIVO', `atr_fecha_creacion` DATETIME NOT NULL, `atr_fecha_actualizacion` DATETIME NOT NULL, PRIMARY KEY (`atr_id_tratamiento`), FOREIGN KEY (`atr_id_paciente`) REFERENCES `Patient` (`atr_id_paciente`) ON DELETE NO ACTION ON UPDATE CASCADE, FOREIGN KEY (`atr_id_medico`) REFERENCES `Doctor` (`atr_id_medico`) ON DELETE NO ACTION ON UPDATE CASCADE) ENGINE=InnoDB;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.createTable (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:98:12)\n    at async Treatment.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:942:7)\n    at async Sequelize.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:377:9)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:137:7","timestamp":"2025-08-04 14:55:23"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-08-09 22:32:40"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 OPR/120.0.0.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-08-10 18:03:59"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::ffff:127.0.0.1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:143.0) Gecko/20100101 Firefox/143.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-10-02 17:51:00"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::ffff:127.0.0.1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-10-16 16:24:31"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::ffff:127.0.0.1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-10-22 16:54:18"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::ffff:127.0.0.1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-10-22 17:48:45"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::ffff:127.0.0.1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-10-27 11:20:32"}
{"error":{"endpoint":"/api/admin/users/14","error":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_ms_bitacora`, CONSTRAINT `tbl_ms_bitacora_ibfk_1` FOREIGN KEY (`atr_id_usuario`) REFERENCES `tbl_ms_usuario` (`atr_id_usuario`))","ip":"::ffff:127.0.0.1","method":"DELETE","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.delete (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:393:12)\n    at async model.destroy (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2627:16)\n    at async deleteUser (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:281:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0"},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-10-29 08:21:32"}
{"error":{"endpoint":"/api/admin/users/14","error":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_ms_bitacora`, CONSTRAINT `tbl_ms_bitacora_ibfk_1` FOREIGN KEY (`atr_id_usuario`) REFERENCES `tbl_ms_usuario` (`atr_id_usuario`))","ip":"::ffff:127.0.0.1","method":"DELETE","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.delete (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:393:12)\n    at async model.destroy (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2627:16)\n    at async deleteUser (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:281:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0"},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-10-29 08:21:37"}
{"error":{"endpoint":"/api/admin/users/23/reset-password","error":"Cannot read properties of undefined (reading 'atr_usuario')","ip":"::ffff:127.0.0.1","method":"PUT","stack":"TypeError: Cannot read properties of undefined (reading 'atr_usuario')\n    at resetUserPassword (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\adminController.js:134:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0"},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-10-29 08:27:55"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::ffff:127.0.0.1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-10-29 09:41:33"}
{"error":{"endpoint":"/api/permisos/rol/1","error":"IDs de rol u objeto inválidos.","ip":"::ffff:127.0.0.1","method":"GET","stack":"CustomError: IDs de rol u objeto inválidos.\n    at generateError (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\errorHandler.js:38:17)\n    at getPermisoByRolAndObjeto (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\PermisoController.js:50:23)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:94:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at authenticate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddlewares.js:65:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-10-29 09:44:17"}
{"error":"tbl_paciente is not associated to tbl_reserva_cita!","level":"error","message":"Error listar citas","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_paciente is not associated to tbl_reserva_cita!\n    at tbl_reserva_cita._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_reserva_cita._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_reserva_cita._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_reserva_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:45:28)","timestamp":"2025-10-29 12:06:14"}
{"error":{"endpoint":"/api/appointments","error":"tbl_paciente is not associated to tbl_reserva_cita!","ip":"::ffff:127.0.0.1","method":"GET","stack":"SequelizeEagerLoadingError: tbl_paciente is not associated to tbl_reserva_cita!\n    at tbl_reserva_cita._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_reserva_cita._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_reserva_cita._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_reserva_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:45:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-10-29 12:06:14"}
{"error":"tbl_paciente is not associated to tbl_reserva_cita!","level":"error","message":"Error listar citas","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_paciente is not associated to tbl_reserva_cita!\n    at tbl_reserva_cita._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_reserva_cita._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_reserva_cita._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_reserva_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:45:28)","timestamp":"2025-10-29 12:06:14"}
{"error":{"endpoint":"/api/appointments","error":"tbl_paciente is not associated to tbl_reserva_cita!","ip":"::ffff:127.0.0.1","method":"GET","stack":"SequelizeEagerLoadingError: tbl_paciente is not associated to tbl_reserva_cita!\n    at tbl_reserva_cita._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_reserva_cita._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_reserva_cita._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_reserva_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:45:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-10-29 12:06:14"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_categoria' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-10-29 12:13:26"}
{"error":"Identifier name 'tbl_ms_token_atr_codigo_atr_tipo_atr_utilizado_atr_fecha_expiracion' is too long","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_ms_token` ADD INDEX `tbl_ms_token_atr_codigo_atr_tipo_atr_utilizado_atr_fecha_expiracion` (`atr_codigo`, `atr_tipo`, `atr_utilizado`, `atr_fecha_expiracion`)","sqlMessage":"Identifier name 'tbl_ms_token_atr_codigo_atr_tipo_atr_utilizado_atr_fecha_expiracion' is too long","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_ms_token` ADD INDEX `tbl_ms_token_atr_codigo_atr_tipo_atr_utilizado_atr_fecha_expiracion` (`atr_codigo`, `atr_tipo`, `atr_utilizado`, `atr_fecha_expiracion`)","sqlMessage":"Identifier name 'tbl_ms_token_atr_codigo_atr_tipo_atr_utilizado_atr_fecha_expiracion' is too long","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_ms_token` ADD INDEX `tbl_ms_token_atr_codigo_atr_tipo_atr_utilizado_atr_fecha_expiracion` (`atr_codigo`, `atr_tipo`, `atr_utilizado`, `atr_fecha_expiracion`)","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addIndex (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:250:12)\n    at async tbl_ms_token.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:999:7)\n    at async Sequelize.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:377:9)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:154:7","timestamp":"2025-10-29 15:31:37"}
{"error":"Identifier name 'tbl_ms_token_atr_codigo_atr_tipo_atr_utilizado_atr_fecha_expiracion' is too long","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_ms_token` ADD INDEX `tbl_ms_token_atr_codigo_atr_tipo_atr_utilizado_atr_fecha_expiracion` (`atr_codigo`, `atr_tipo`, `atr_utilizado`, `atr_fecha_expiracion`)","sqlMessage":"Identifier name 'tbl_ms_token_atr_codigo_atr_tipo_atr_utilizado_atr_fecha_expiracion' is too long","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_ms_token` ADD INDEX `tbl_ms_token_atr_codigo_atr_tipo_atr_utilizado_atr_fecha_expiracion` (`atr_codigo`, `atr_tipo`, `atr_utilizado`, `atr_fecha_expiracion`)","sqlMessage":"Identifier name 'tbl_ms_token_atr_codigo_atr_tipo_atr_utilizado_atr_fecha_expiracion' is too long","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_ms_token` ADD INDEX `tbl_ms_token_atr_codigo_atr_tipo_atr_utilizado_atr_fecha_expiracion` (`atr_codigo`, `atr_tipo`, `atr_utilizado`, `atr_fecha_expiracion`)","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addIndex (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:250:12)\n    at async tbl_ms_token.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:999:7)\n    at async Sequelize.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:377:9)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:154:7","timestamp":"2025-10-29 15:33:07"}
{"error":{"endpoint":"/api/admin/maintenance/Errores","error":"Not allowed by CORS","ip":"::1","method":"POST","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0"},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-05 10:35:00"}
{"error":{"endpoint":"/api/admin/maintenance/Errores","error":"Not allowed by CORS","ip":"::1","method":"POST","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0"},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-05 10:35:04"}
{"error":{"endpoint":"/api/admin/maintenance/Errores","error":"Not allowed by CORS","ip":"::1","method":"POST","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0"},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-05 10:35:08"}
{"error":{"endpoint":"/api/admin/maintenance/Errores","error":"Not allowed by CORS","ip":"::1","method":"POST","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0"},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-05 10:35:11"}
{"error":{"endpoint":"/api/admin/maintenance/Errores","error":"Not allowed by CORS","ip":"::1","method":"POST","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0"},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-05 10:35:13"}
{"error":{"endpoint":"/api/admin/maintenance/Errores","error":"Not allowed by CORS","ip":"::1","method":"POST","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0"},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-05 10:35:18"}
{"error":{"endpoint":"/api/admin/maintenance/Errores","error":"Not allowed by CORS","ip":"::1","method":"POST","stack":"Error: Not allowed by CORS\n    at origin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Config\\cors.js:18:16)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at expressInit (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\middleware\\init.js:40:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0"},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-05 10:35:29"}
{"error":"Unknown column 'doctor.atr_especialidad_principal' in 'field list'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor`.`atr_especialidad_principal` AS `doctor.atr_especialidad_principal` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'doctor.atr_especialidad_principal' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor`.`atr_especialidad_principal` AS `doctor.atr_especialidad_principal` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'doctor.atr_especialidad_principal' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor`.`atr_especialidad_principal` AS `doctor.atr_especialidad_principal` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-05 11:28:45"}
{"error":"Unknown column 'doctor.atr_especialidad_principal' in 'field list'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor`.`atr_especialidad_principal` AS `doctor.atr_especialidad_principal` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'doctor.atr_especialidad_principal' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor`.`atr_especialidad_principal` AS `doctor.atr_especialidad_principal` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'doctor.atr_especialidad_principal' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor`.`atr_especialidad_principal` AS `doctor.atr_especialidad_principal` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-05 11:28:45"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_categoria' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-05 11:28:49"}
{"code":"ENOENT","errno":-4058,"error":"ENOENT: no such file or directory, access 'D:\\DEMO.bak'","level":"error","message":"Error restaurando backup:","path":"D:\\DEMO.bak","service":"clinica-estetica-api","stack":"Error: ENOENT: no such file or directory, access 'D:\\DEMO.bak'\n    at async Object.access (node:internal/fs/promises:600:10)\n    at async BackupService.restoreBackup (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\backupService.js:152:7)\n    at async restoreBackup (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\backupController.js:113:22)","syscall":"access","timestamp":"2025-11-06 16:21:01"}
{"error":"Error restaurando backup: ENOENT: no such file or directory, access 'D:\\DEMO.bak'","level":"error","message":"Error restaurando backup:","service":"clinica-estetica-api","stack":"Error: Error restaurando backup: ENOENT: no such file or directory, access 'D:\\DEMO.bak'\n    at BackupService.restoreBackup (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\backupService.js:189:13)\n    at async restoreBackup (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\backupController.js:113:22)","timestamp":"2025-11-06 16:21:01"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-06 16:21:09"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-06 16:21:09"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-06 16:21:09"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-06 16:21:09"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-06 17:43:48"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-06 17:43:48"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-06 17:43:48"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-06 17:43:48"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-12 14:33:40"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-12 14:33:40"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-12 14:33:40"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-12 14:33:40"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-12 18:14:04"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-12 18:14:04"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-12 18:14:04"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-12 18:14:04"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-12 18:14:08"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-12 18:14:08"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-12 18:14:09"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-12 18:14:09"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-12 18:14:09"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-12 18:14:09"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-12 18:23:05"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-12 18:23:05"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-12 18:23:05"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-12 18:23:05"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-12 18:23:09"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-12 18:23:09"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-12 18:23:09"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-12 18:23:09"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-12 18:23:09"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-12 18:23:09"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-12 18:24:40"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-12 18:24:40"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-12 18:24:43"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-12 18:24:43"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-12 18:24:43"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-12 18:24:43"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-12 18:25:03"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-12 18:25:03"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-12 18:25:13"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-12 18:25:13"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-12 18:25:13"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-12 18:25:13"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-12 18:25:13"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-12 18:25:13"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-12 18:27:03"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-12 18:27:03"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-12 18:27:03"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-12 18:27:03"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 19:47:21"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 19:47:21"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 19:47:21"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 19:47:21"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 19:47:21"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 19:47:21"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 19:47:21"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 19:47:21"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 19:47:49"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 19:47:49"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 19:47:49"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 19:47:49"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 19:47:49"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 19:47:49"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 19:47:49"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 19:47:49"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 19:59:51"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 19:59:51"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 19:59:51"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 19:59:51"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 20:02:46"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:02:46"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 20:02:46"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:02:46"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 20:03:04"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:03:04"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 20:03:04"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:03:04"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 20:03:04"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:03:04"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 20:03:04"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:03:04"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 20:06:56"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:06:56"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 20:06:56"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:06:56"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 20:07:50"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:07:50"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 20:07:50"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:07:50"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 20:10:32"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:10:32"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 20:10:32"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:10:32"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 20:10:32"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:10:32"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 20:10:32"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:10:32"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 20:59:19"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:59:19"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 20:59:19"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:59:19"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 20:59:19"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:59:19"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 20:59:19"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:59:19"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 20:59:22"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:59:22"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 20:59:22"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:59:22"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 20:59:22"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:59:22"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 20:59:22"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:59:22"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 20:59:24"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:59:24"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 20:59:24"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:59:24"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 20:59:24"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:59:24"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 20:59:24"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 20:59:24"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:13"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:13"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:13"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:13"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:13"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:13"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:13"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:13"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:15"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:15"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:15"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:15"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:15"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:15"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:15"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:15"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:17"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:17"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:17"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:17"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:17"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:17"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:17"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:17"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:22"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:22"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:22"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:22"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:22"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:22"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:22"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:22"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:29"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:29"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:29"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:29"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:30"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:30"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:30"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:30"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:30"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:30"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:30"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:30"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:31"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:31"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:31"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:31"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:33"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:33"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:33"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:33"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:00:33"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:33"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:00:33"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:00:34"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:02:38"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:02:38"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:02:38"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:02:38"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:02:38"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:02:38"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:02:38"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:02:38"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:02:38"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:02:38"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:02:39"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:02:39"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:02:39"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:02:39"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:02:39"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:02:39"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:03:01"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:03:01"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:03:01"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:03:01"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:03:01"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:03:01"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:03:01"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:03:01"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:03:04"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:03:04"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:03:04"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:03:04"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:03:04"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:03:04"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:03:04"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:03:04"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:03:05"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:03:05"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:03:06"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:03:06"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:03:06"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:03:06"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:03:06"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:03:06"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:06:34"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:06:34"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:06:34"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:06:34"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:06:34"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:06:34"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:06:34"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:06:34"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:11:02"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:02"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:11:02"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:02"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:11:02"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:02"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:11:02"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:02"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:11:02"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:02"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:11:02"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:02"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:11:02"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:02"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:11:02"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:02"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:11:02"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:02"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:11:02"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:02"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:11:02"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:03"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:11:03"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:03"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:11:06"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:06"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:11:06"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:06"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:11:06"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:06"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:11:06"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:06"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:11:07"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:07"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:11:07"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:07"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:11:07"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:07"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:11:07"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:07"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:11:11"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:11"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:11:11"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:11"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:11:11"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:11"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:11:11"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:11:11"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:21:35"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:21:35"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:21:35"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:21:35"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:21:35"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:21:35"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:21:35"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:21:35"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:22:06"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:22:06"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:22:06"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:22:06"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:22:06"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:22:06"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:22:06"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:22:06"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:22:38"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:22:38"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:22:38"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:22:39"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:22:39"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:22:39"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:22:39"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:22:39"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:27:58"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:27:58"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:27:58"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:27:58"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:32:39"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:32:39"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:32:39"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:32:39"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-13 21:32:39"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:32:39"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-13 21:32:39"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-13 21:32:39"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 08:22:05"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 08:22:05"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 08:22:05"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 08:22:05"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 08:22:05"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 08:22:05"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 08:22:05"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 08:22:05"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 09:01:30"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 09:01:30"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 09:01:31"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 09:01:31"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 09:01:31"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 09:01:31"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 09:01:31"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 09:01:31"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 11:34:48"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 11:34:48"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 11:34:48"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 11:34:48"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 11:34:48"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 11:34:48"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 11:34:48"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 11:34:48"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 11:38:42"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 11:38:42"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 11:38:42"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 11:38:42"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 11:38:42"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 11:38:42"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 11:38:42"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 11:38:42"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 11:38:44"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 11:38:44"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 11:38:44"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 11:38:44"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 11:38:44"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 11:38:44"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 11:38:44"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 11:38:44"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 12:59:12"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 12:59:13"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 12:59:14"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 12:59:14"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 12:59:14"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 12:59:14"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 12:59:14"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 12:59:14"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 12:59:14"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 12:59:14"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 12:59:14"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 12:59:14"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 12:59:14"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 12:59:14"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 12:59:14"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 12:59:14"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 15:22:43"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 15:22:43"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 15:22:43"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 15:22:43"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 15:22:43"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 15:22:43"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 15:22:43"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 15:22:43"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 15:22:46"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 15:22:46"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 15:22:47"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 15:22:47"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 15:22:47"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 15:22:47"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 15:22:47"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 15:22:47"}
{"error":"tbl_telefono_paciente is not associated to tbl_paciente!","level":"error","message":"Error listando pacientes:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_telefono_paciente is not associated to tbl_paciente!\n    at tbl_paciente._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_paciente._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_paciente._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:7:23)","timestamp":"2025-11-16 15:57:42"}
{"error":"tbl_telefono_paciente is not associated to tbl_paciente!","level":"error","message":"Error listando pacientes:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_telefono_paciente is not associated to tbl_paciente!\n    at tbl_paciente._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_paciente._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_paciente._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:7:23)","timestamp":"2025-11-16 15:57:42"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 16:17:53"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:17:53"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 16:17:53"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:17:54"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 16:17:54"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:17:54"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 16:17:54"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:17:54"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 16:17:54"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:17:54"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 16:17:54"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:17:54"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 16:17:54"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:17:54"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 16:17:54"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:17:54"}
{"error":"tbl_telefono_paciente is not associated to tbl_paciente!","level":"error","message":"Error listando pacientes:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_telefono_paciente is not associated to tbl_paciente!\n    at tbl_paciente._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_paciente._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_paciente._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:7:23)","timestamp":"2025-11-16 16:18:22"}
{"error":"tbl_telefono_paciente is not associated to tbl_paciente!","level":"error","message":"Error listando pacientes:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_telefono_paciente is not associated to tbl_paciente!\n    at tbl_paciente._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_paciente._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_paciente._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:7:23)","timestamp":"2025-11-16 16:18:23"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 16:18:34"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:18:34"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 16:18:34"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:18:34"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 16:18:34"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:18:34"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 16:18:34"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:18:34"}
{"error":"tbl_telefono_paciente is not associated to tbl_paciente!","level":"error","message":"Error listando pacientes:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_telefono_paciente is not associated to tbl_paciente!\n    at tbl_paciente._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_paciente._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_paciente._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:7:23)","timestamp":"2025-11-16 16:38:52"}
{"error":"tbl_telefono_paciente is not associated to tbl_paciente!","level":"error","message":"Error listando pacientes:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_telefono_paciente is not associated to tbl_paciente!\n    at tbl_paciente._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_paciente._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_paciente._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:7:23)","timestamp":"2025-11-16 16:38:52"}
{"error":"tbl_telefono_paciente is not associated to tbl_paciente!","level":"error","message":"Error listando pacientes:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_telefono_paciente is not associated to tbl_paciente!\n    at tbl_paciente._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_paciente._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_paciente._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:7:23)","timestamp":"2025-11-16 16:49:27"}
{"error":"tbl_telefono_paciente is not associated to tbl_paciente!","level":"error","message":"Error listando pacientes:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_telefono_paciente is not associated to tbl_paciente!\n    at tbl_paciente._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_paciente._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_paciente._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:7:23)","timestamp":"2025-11-16 16:49:27"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 16:49:32"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:49:32"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 16:49:32"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:49:32"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 16:49:32"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:49:32"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 16:49:32"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 16:49:32"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:01:06"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:01:06"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:01:06"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:01:06"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:01:06"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:01:06"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:01:06"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":25},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:01:06"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:48:18"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:48:18"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:48:18"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:48:18"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:48:18"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:48:18"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:48:18"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:48:18"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:49:08"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:49:08"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:49:08"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:49:08"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:49:08"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:49:08"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:49:08"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:49:08"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:49:11"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:49:11"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:49:11"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:49:11"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:49:11"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:49:11"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:49:11"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:49:11"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-16 17:49:40"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-16 17:49:40"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-16 17:49:40"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-16 17:49:40"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:51:00"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:51:00"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:51:00"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:51:00"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:51:00"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:51:00"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:51:00"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:51:00"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:51:04"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:51:04"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:51:04"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:51:04"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:51:04"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:51:04"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:51:04"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:51:04"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:51:48"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:51:48"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:51:48"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:51:48"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:51:48"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:51:48"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:51:48"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:51:48"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:52:33"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:52:33"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:52:33"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:52:33"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:52:33"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:52:33"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:52:33"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:52:33"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:53:33"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:53:33"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:53:33"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:53:33"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-16 17:53:33"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:53:33"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-16 17:53:33"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-16 17:53:33"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-17 23:49:44"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-17 23:49:44"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-17 23:49:44"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-17 23:49:44"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-17 23:49:44"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-17 23:49:44"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-17 23:49:44"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-17 23:49:44"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 00:18:52"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:18:52"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 00:18:52"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:18:52"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 00:18:52"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:18:52"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 00:18:52"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:18:52"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 00:18:52"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:18:52"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 00:18:53"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:18:53"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 00:18:53"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:18:53"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 00:18:53"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:18:53"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 00:56:55"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:56:55"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 00:56:55"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:56:55"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 00:56:55"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:56:55"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 00:56:55"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:56:55"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 00:56:57"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:56:57"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 00:56:57"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:56:57"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 00:56:57"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:56:57"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 00:56:57"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 00:56:57"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 07:47:15"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 07:47:15"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 07:47:15"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 07:47:15"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 07:47:15"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 07:47:15"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 07:47:15"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 07:47:15"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 08:10:08"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 08:10:09"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 08:10:09"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 08:10:09"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 08:10:09"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 08:10:09"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 08:10:09"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 08:10:09"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 08:55:21"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 08:55:21"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 08:55:21"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 08:55:21"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 08:55:21"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 08:55:21"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 08:55:21"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 08:55:21"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 09:10:49"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 09:10:49"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 09:10:49"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 09:10:49"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 09:10:50"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 09:10:50"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 09:10:50"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 09:10:50"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 09:18:30"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 09:18:30"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 09:18:30"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 09:18:30"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 09:18:30"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 09:18:30"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 09:18:30"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 09:18:30"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 09:18:31"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 09:18:31"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 09:18:31"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 09:18:31"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 09:18:31"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 09:18:31"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 09:18:31"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 09:18:31"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 15:09:38"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 15:09:38"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 15:09:38"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 15:09:38"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 15:09:38"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 15:09:38"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 15:09:38"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 15:09:38"}
{"error":"Unknown column 'tbl_tratamiento.atr_id_consulta' in 'field list'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.atr_id_consulta' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.atr_id_consulta' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-18 15:09:39"}
{"error":"Unknown column 'tbl_tratamiento.atr_id_consulta' in 'field list'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.atr_id_consulta' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.atr_id_consulta' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-18 15:09:39"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-18 15:09:47"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-18 15:09:47"}
{"level":"error","message":"Error al obtener todos los productos en ProductService: Unknown column 'atr_unidad_medida' in 'field list'","service":"clinica-estetica-api","timestamp":"2025-11-18 15:09:47"}
{"level":"error","message":"Error en ProductController.getAllProducts: No se pudieron obtener los productos.","service":"clinica-estetica-api","timestamp":"2025-11-18 15:09:47"}
{"error":"tbl_telefono_paciente is not associated to tbl_paciente!","level":"error","message":"Error listando pacientes:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_telefono_paciente is not associated to tbl_paciente!\n    at tbl_paciente._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_paciente._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_paciente._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:7:23)","timestamp":"2025-11-18 15:09:50"}
{"error":"tbl_telefono_paciente is not associated to tbl_paciente!","level":"error","message":"Error listando pacientes:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_telefono_paciente is not associated to tbl_paciente!\n    at tbl_paciente._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_paciente._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_paciente._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:7:23)","timestamp":"2025-11-18 15:09:50"}
{"error":{"endpoint":"/api/patients/","errors":[{"location":"body","msg":"Género es requerido","path":"atr_id_genero","type":"field","value":null}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-18 15:13:59"}
{"error":{"endpoint":"/api/patients/","errors":[{"location":"body","msg":"Género es requerido","path":"atr_id_genero","type":"field","value":null}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-18 15:26:23"}
{"error":{"endpoint":"/api/patients/","errors":[{"location":"body","msg":"Género es requerido","path":"atr_id_genero","type":"field","value":null}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-18 15:49:51"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:02:42"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:02:42"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:02:43"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:02:43"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:02:43"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:02:43"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:02:43"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:02:43"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:02:50"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:02:50"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:02:50"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:02:50"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:02:50"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:02:50"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:02:50"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:02:50"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:17:47"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:17:47"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:17:47"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:17:47"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:17:47"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:17:47"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:17:47"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:17:47"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:17:53"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:17:53"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:17:53"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:17:53"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:17:53"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:17:53"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:17:53"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:17:53"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:18:01"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:18:01"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:18:01"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:18:01"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:18:01"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:18:01"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:18:01"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:18:01"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:21:24"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:21:24"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:21:24"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:21:24"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:21:24"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:21:24"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:21:24"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:21:24"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:21:25"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:21:25"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:21:25"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:21:25"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:21:25"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:21:25"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:21:25"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:21:25"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:22:14"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:22:14"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:22:14"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:22:14"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:22:14"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:22:14"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:22:14"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:22:14"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:22:19"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:22:19"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:22:19"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:22:19"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:22:19"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:22:19"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:22:19"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:22:19"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:22:59"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:22:59"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:22:59"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:22:59"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:22:59"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:22:59"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:22:59"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:22:59"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:23:00"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:23:00"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:23:00"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:23:00"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-18 17:23:00"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:23:00"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-18 17:23:00"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-18 17:23:00"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-18 17:34:11"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-18 17:34:11"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-18 17:34:11"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-18 17:34:11"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-20 14:50:54"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-20 14:50:54"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-20 14:50:54"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-20 14:50:54"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-20 14:50:54"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-20 14:50:54"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-20 14:50:54"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-20 14:50:54"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-20 14:50:55"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-20 14:50:56"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-20 14:50:56"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-20 14:50:56"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-20 14:50:56"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-20 14:50:56"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-20 14:50:56"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-20 14:50:56"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-20 14:51:00"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-20 14:51:00"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","timestamp":"2025-11-20 14:51:00"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:257:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-20 14:51:00"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-20 14:51:00"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-20 14:51:00"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","timestamp":"2025-11-20 14:51:00"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:277:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-20 14:51:00"}
{"error":"Duplicate column name 'atr_fecha_modificacion'","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_DUP_FIELDNAME","errno":1060,"sql":"ALTER TABLE `tbl_genero` ADD `atr_fecha_modificacion` DATETIME;","sqlMessage":"Duplicate column name 'atr_fecha_modificacion'","sqlState":"42S21"},"parameters":{},"parent":{"code":"ER_DUP_FIELDNAME","errno":1060,"sql":"ALTER TABLE `tbl_genero` ADD `atr_fecha_modificacion` DATETIME;","sqlMessage":"Duplicate column name 'atr_fecha_modificacion'","sqlState":"42S21"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_genero` ADD `atr_fecha_modificacion` DATETIME;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async Genero.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:23:50"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:24:56"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:28:35"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:29:07"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:30:37"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:32:05"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:35:49"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:37:20"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:38:21"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:41:36"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:42:40"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:44:52"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:47:27"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:50:32"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:52:00"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:53:52"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:54:34"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:56:09"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 19:59:36"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 20:01:47"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 20:03:25"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 20:22:37"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:199:7","timestamp":"2025-11-20 20:23:55"}
{"error":"Failed to open the referenced table 'patients'","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_FK_CANNOT_OPEN_PARENT","errno":1824,"sql":"ALTER TABLE `exams` ADD FOREIGN KEY (`atr_id_paciente`) REFERENCES `Patients` (`atr_id_paciente`) ON DELETE NO ACTION ON UPDATE CASCADE;","sqlMessage":"Failed to open the referenced table 'patients'","sqlState":"HY000"},"parameters":{},"parent":{"code":"ER_FK_CANNOT_OPEN_PARENT","errno":1824,"sql":"ALTER TABLE `exams` ADD FOREIGN KEY (`atr_id_paciente`) REFERENCES `Patients` (`atr_id_paciente`) ON DELETE NO ACTION ON UPDATE CASCADE;","sqlMessage":"Failed to open the referenced table 'patients'","sqlState":"HY000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `exams` ADD FOREIGN KEY (`atr_id_paciente`) REFERENCES `Patients` (`atr_id_paciente`) ON DELETE NO ACTION ON UPDATE CASCADE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Exam.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:21:23"}
{"error":"Failed to open the referenced table 'patients'","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_FK_CANNOT_OPEN_PARENT","errno":1824,"sql":"ALTER TABLE `exams` ADD FOREIGN KEY (`atr_id_paciente`) REFERENCES `Patients` (`atr_id_paciente`) ON DELETE NO ACTION ON UPDATE CASCADE;","sqlMessage":"Failed to open the referenced table 'patients'","sqlState":"HY000"},"parameters":{},"parent":{"code":"ER_FK_CANNOT_OPEN_PARENT","errno":1824,"sql":"ALTER TABLE `exams` ADD FOREIGN KEY (`atr_id_paciente`) REFERENCES `Patients` (`atr_id_paciente`) ON DELETE NO ACTION ON UPDATE CASCADE;","sqlMessage":"Failed to open the referenced table 'patients'","sqlState":"HY000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `exams` ADD FOREIGN KEY (`atr_id_paciente`) REFERENCES `Patients` (`atr_id_paciente`) ON DELETE NO ACTION ON UPDATE CASCADE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Exam.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:22:36"}
{"error":"Too many keys specified; max 64 keys allowed","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tbl_ms_usuario.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:22:40"}
{"error":"Too many keys specified; max 64 keys allowed","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tbl_ms_usuario.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:22:56"}
{"error":"Too many keys specified; max 64 keys allowed","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tbl_ms_usuario.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:23:14"}
{"error":"Too many keys specified; max 64 keys allowed","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tbl_ms_usuario.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:28:16"}
{"error":"Too many keys specified; max 64 keys allowed","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_ms_usuario` CHANGE `atr_usuario` `atr_usuario` VARCHAR(15) NOT NULL UNIQUE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tbl_ms_usuario.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:28:51"}
{"error":"Too many keys specified; max 64 keys allowed","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` ADD UNIQUE INDEX `tbl_ms_usuario_atr_usuario` (`atr_usuario`)","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` ADD UNIQUE INDEX `tbl_ms_usuario_atr_usuario` (`atr_usuario`)","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_ms_usuario` ADD UNIQUE INDEX `tbl_ms_usuario_atr_usuario` (`atr_usuario`)","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addIndex (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:250:12)\n    at async tbl_ms_usuario.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:999:7)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:29:52"}
{"error":"Too many keys specified; max 64 keys allowed","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` ADD UNIQUE INDEX `tbl_ms_usuario_atr_usuario` (`atr_usuario`)","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_ms_usuario` ADD UNIQUE INDEX `tbl_ms_usuario_atr_usuario` (`atr_usuario`)","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_ms_usuario` ADD UNIQUE INDEX `tbl_ms_usuario_atr_usuario` (`atr_usuario`)","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addIndex (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:250:12)\n    at async tbl_ms_usuario.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:999:7)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:30:22"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:32:24"}
{"error":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:34:24"}
{"error":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:36:14"}
{"error":"Too many keys specified; max 64 keys allowed","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_productos` CHANGE `atr_codigo_barra` `atr_codigo_barra` VARCHAR(50) UNIQUE;","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_MANY_KEYS","errno":1069,"sql":"ALTER TABLE `tbl_productos` CHANGE `atr_codigo_barra` `atr_codigo_barra` VARCHAR(50) UNIQUE;","sqlMessage":"Too many keys specified; max 64 keys allowed","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_productos` CHANGE `atr_codigo_barra` `atr_codigo_barra` VARCHAR(50) UNIQUE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Producto.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:37:10"}
{"error":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TreatmentProcedureProduct.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:38:52"}
{"error":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TPP.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:40:09"}
{"error":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TPP.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:41:24"}
{"error":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TPP.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:42:19"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TPP.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:43:20"}
{"error":"Multiple primary key defined","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_MULTIPLE_PRI_KEY","errno":1068,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","sqlMessage":"Multiple primary key defined","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_id` INTEGER NOT NULL auto_increment PRIMARY KEY;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TPP.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:44:18"}
{"error":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TPP.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:47:05"}
{"error":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TPP.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:49:40"}
{"error":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","level":"error","message":"❌ Error al iniciar servidor","name":"SequelizeDatabaseError","original":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"parameters":{},"parent":{"code":"ER_TOO_LONG_IDENT","errno":1059,"sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","sqlMessage":"Identifier name 'tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx' is too long","sqlState":"42000"},"service":"clinica-estetica-api","sql":"ALTER TABLE `tbl_tratamiento_procedimiento_producto` ADD `atr_procedimiento_id` INTEGER NOT NULL PRIMARY KEY, ADD CONSTRAINT `tbl_tratamiento_procedimiento_producto_atr_procedimiento_id_foreign_idx` FOREIGN KEY (`atr_procedimiento_id`) REFERENCES `tbl_tratamiento_procedimiento` (`atr_id_procedimiento`) ON DELETE CASCADE ON UPDATE CASCADE;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addColumn (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:184:12)\n    at async TPP.sync (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:958:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\server.js:217:7","timestamp":"2025-11-21 09:53:29"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-21 10:23:26"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-21 10:23:26"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-21 10:23:26"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-21 10:23:26"}
{"error":{"endpoint":"/api/patients/","errors":[{"location":"body","msg":"Género es requerido","path":"atr_id_genero","type":"field","value":null}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-21 10:45:10"}
{"error":"notNull Violation: tbl_paciente.atr_id_tipo_paciente cannot be null","errors":[{"instance":{"atr_apellido":"Garcia","atr_fecha_nacimiento":"2000-11-04","atr_id_genero":2,"atr_id_paciente":null,"atr_identidad":"0601200001331","atr_nombre":"Maria","atr_numero_expediente":"EXPE001"},"message":"tbl_paciente.atr_id_tipo_paciente cannot be null","origin":"CORE","path":"atr_id_tipo_paciente","type":"notNull Violation","validatorArgs":[],"validatorKey":"is_null","validatorName":null,"value":null}],"level":"error","message":"Error creando paciente:","name":"SequelizeValidationError","service":"clinica-estetica-api","stack":"SequelizeValidationError: notNull Violation: tbl_paciente.atr_id_tipo_paciente cannot be null\n    at InstanceValidator._validate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:50:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async InstanceValidator._validateAndRunHooks (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:60:7)\n    at async InstanceValidator.validate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:54:12)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2426:7)\n    at async tbl_paciente.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\patientService.js:13:22\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:507:18\n    at async Object.createPatient (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\patientService.js:12:10)\n    at async exports.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:83:22)","timestamp":"2025-11-21 11:10:08"}
{"error":{"endpoint":"/api/patients/types","errors":[{"location":"params","msg":"Invalid value","path":"id","type":"field","value":"types"}],"method":"GET"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-21 11:40:07"}
{"error":{"endpoint":"/api/patients/types","errors":[{"location":"params","msg":"Invalid value","path":"id","type":"field","value":"types"}],"method":"GET"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-21 11:40:07"}
{"error":{"endpoint":"/api/patients/types","errors":[{"location":"params","msg":"Invalid value","path":"id","type":"field","value":"types"}],"method":"GET"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-21 11:58:00"}
{"error":{"endpoint":"/api/patients/types","errors":[{"location":"params","msg":"Invalid value","path":"id","type":"field","value":"types"}],"method":"GET"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-21 11:58:00"}
{"error":{"endpoint":"/api/patients/types","errors":[{"location":"params","msg":"Invalid value","path":"id","type":"field","value":"types"}],"method":"GET"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-21 12:02:43"}
{"error":{"endpoint":"/api/patients/types","errors":[{"location":"params","msg":"Invalid value","path":"id","type":"field","value":"types"}],"method":"GET"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-21 12:02:44"}
{"error":"Incorrect integer value: 'EXP001' for column 'atr_numero_expediente' at row 1","level":"error","message":"Error creando paciente:","name":"SequelizeDatabaseError","original":{"code":"ER_TRUNCATED_WRONG_VALUE_FOR_FIELD","errno":1366,"parameters":["Maria","Garcia","2000-11-04","0601200001331","EXP001",2,1],"sql":"INSERT INTO `tbl_paciente` (`atr_id_paciente`,`atr_nombre`,`atr_apellido`,`atr_fecha_nacimiento`,`atr_identidad`,`atr_numero_expediente`,`atr_id_genero`,`atr_id_tipo_paciente`) VALUES (DEFAULT,?,?,?,?,?,?,?);","sqlMessage":"Incorrect integer value: 'EXP001' for column 'atr_numero_expediente' at row 1","sqlState":"HY000"},"parameters":["Maria","Garcia","2000-11-04","0601200001331","EXP001",2,1],"parent":{"code":"ER_TRUNCATED_WRONG_VALUE_FOR_FIELD","errno":1366,"parameters":["Maria","Garcia","2000-11-04","0601200001331","EXP001",2,1],"sql":"INSERT INTO `tbl_paciente` (`atr_id_paciente`,`atr_nombre`,`atr_apellido`,`atr_fecha_nacimiento`,`atr_identidad`,`atr_numero_expediente`,`atr_id_genero`,`atr_id_tipo_paciente`) VALUES (DEFAULT,?,?,?,?,?,?,?);","sqlMessage":"Incorrect integer value: 'EXP001' for column 'atr_numero_expediente' at row 1","sqlState":"HY000"},"service":"clinica-estetica-api","sql":"INSERT INTO `tbl_paciente` (`atr_id_paciente`,`atr_nombre`,`atr_apellido`,`atr_fecha_nacimiento`,`atr_identidad`,`atr_numero_expediente`,`atr_id_genero`,`atr_id_tipo_paciente`) VALUES (DEFAULT,?,?,?,?,?,?,?);","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async tbl_paciente.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\patientService.js:15:22\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:507:18\n    at async Object.createPatient (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\patientService.js:14:10)\n    at async exports.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:83:22)","timestamp":"2025-11-21 12:09:43"}
{"error":{"endpoint":"/api/patients/","errors":[{"location":"body","msg":"Invalid value","path":"atr_numero_expediente","type":"field","value":1}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-21 12:18:05"}
{"error":{"endpoint":"/api/patients/","errors":[{"location":"body","msg":"Invalid value","path":"atr_numero_expediente","type":"field","value":1}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-21 12:20:13"}
{"error":"Table 'clinica.tbl_alergia_paciente' doesn't exist","level":"error","message":"Error creando paciente:","name":"SequelizeDatabaseError","original":{"code":"ER_NO_SUCH_TABLE","errno":1146,"sql":"INSERT INTO `tbl_alergia_paciente` (`atr_id_alergia`,`atr_id_paciente`,`atr_alergia`) VALUES (NULL,1,'Polen');","sqlMessage":"Table 'clinica.tbl_alergia_paciente' doesn't exist","sqlState":"42S02"},"parameters":{},"parent":{"code":"ER_NO_SUCH_TABLE","errno":1146,"sql":"INSERT INTO `tbl_alergia_paciente` (`atr_id_alergia`,`atr_id_paciente`,`atr_alergia`) VALUES (NULL,1,'Polen');","sqlMessage":"Table 'clinica.tbl_alergia_paciente' doesn't exist","sqlState":"42S02"},"service":"clinica-estetica-api","sql":"INSERT INTO `tbl_alergia_paciente` (`atr_id_alergia`,`atr_id_paciente`,`atr_alergia`) VALUES (NULL,1,'Polen');","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.bulkInsert (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:346:21)\n    at async recursiveBulkCreate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1697:25)\n    at async tbl_alergia_paciente.bulkCreate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1786:12)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\patientService.js:37:9\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:507:18\n    at async Object.createPatient (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\patientService.js:14:10)\n    at async exports.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:117:22)","timestamp":"2025-11-21 13:58:35"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_alergias_paciente`, CONSTRAINT `tbl_alergias_paciente_ibfk_1` FOREIGN KEY (`atr_id_paciente`) REFERENCES `tbl_paciente` (`atr_id_paciente`))","fields":["atr_id_paciente"],"index":"tbl_alergias_paciente_ibfk_1","level":"error","message":"Error eliminando paciente:","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_ROW_IS_REFERENCED_2","errno":1451,"sql":"DELETE FROM `tbl_paciente` WHERE `atr_id_paciente` = 3","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_alergias_paciente`, CONSTRAINT `tbl_alergias_paciente_ibfk_1` FOREIGN KEY (`atr_id_paciente`) REFERENCES `tbl_paciente` (`atr_id_paciente`))","sqlState":"23000"},"parameters":{},"parent":{"code":"ER_ROW_IS_REFERENCED_2","errno":1451,"sql":"DELETE FROM `tbl_paciente` WHERE `atr_id_paciente` = 3","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_alergias_paciente`, CONSTRAINT `tbl_alergias_paciente_ibfk_1` FOREIGN KEY (`atr_id_paciente`) REFERENCES `tbl_paciente` (`atr_id_paciente`))","sqlState":"23000"},"reltype":"parent","service":"clinica-estetica-api","sql":"DELETE FROM `tbl_paciente` WHERE `atr_id_paciente` = 3","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.delete (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:393:12)\n    at async model.destroy (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2627:16)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\patientService.js:191:5\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:507:18\n    at async Object.deletePatient (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\patientService.js:185:10)\n    at async exports.delete (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:183:21)","table":"tbl_paciente","timestamp":"2025-11-21 15:33:56","value":3}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-21 15:58:04"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-21 15:58:04"}
{"error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","level":"error","message":"Error listando citas","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","timestamp":"2025-11-21 15:58:24"}
{"error":{"endpoint":"/api/appointments?","error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-21 15:58:24"}
{"error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","level":"error","message":"Error listando citas","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","timestamp":"2025-11-21 15:58:24"}
{"error":{"endpoint":"/api/appointments?","error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-21 15:58:24"}
{"error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","level":"error","message":"Error listando citas","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","timestamp":"2025-11-21 15:58:34"}
{"error":{"endpoint":"/api/appointments?","error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-21 15:58:34"}
{"error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","level":"error","message":"Error listando citas","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","timestamp":"2025-11-21 15:58:35"}
{"error":{"endpoint":"/api/appointments?","error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-21 15:58:35"}
{"error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","level":"error","message":"Error listando citas","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","timestamp":"2025-11-22 08:55:14"}
{"error":{"endpoint":"/api/appointments?","error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-22 08:55:14"}
{"error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","level":"error","message":"Error listando citas","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","timestamp":"2025-11-22 08:55:15"}
{"error":{"endpoint":"/api/appointments?","error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-22 08:55:15"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-22 08:55:17"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-22 08:55:17"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-22 08:57:16"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-22 08:57:16"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obteniendo pacientes activos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido`, `atr_numero_expediente` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido`, `atr_numero_expediente` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido`, `atr_numero_expediente` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getActivePatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:195:23)","timestamp":"2025-11-22 08:57:28"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obteniendo pacientes activos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido`, `atr_numero_expediente` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido`, `atr_numero_expediente` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido`, `atr_numero_expediente` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getActivePatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\patientController.js:195:23)","timestamp":"2025-11-22 08:57:28"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-22 08:57:48"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-22 08:57:48"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-22 08:57:48"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:55:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-22 08:57:48"}
{"error":{"endpoint":"/api/doctors/DOC1763853110969","errors":[{"location":"params","msg":"Invalid value","path":"id","type":"field","value":"DOC1763853110969"}],"method":"DELETE"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-22 17:13:04"}
{"error":{"endpoint":"/api/doctors/DOC1763853110969","errors":[{"location":"params","msg":"Invalid value","path":"id","type":"field","value":"DOC1763853110969"}],"method":"DELETE"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-22 17:23:12"}
{"error":{"endpoint":"/api/doctors/DOC1763853204286","errors":[{"location":"params","msg":"Invalid value","path":"id","type":"field","value":"DOC1763853204286"}],"method":"DELETE"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-22 17:24:06"}
{"error":{"endpoint":"/api/doctors/DOC1763853110969","errors":[{"location":"params","msg":"Invalid value","path":"id","type":"field","value":"DOC1763853110969"}],"method":"DELETE"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-22 17:24:06"}
{"error":"tbl_telefono_medico is not associated to tbl_medico!","level":"error","message":"Error creando médico:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_telefono_medico is not associated to tbl_medico!\n    at tbl_medico._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_medico._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_medico._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tbl_medico.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async tbl_medico.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\doctorController.js:109:30","timestamp":"2025-11-22 17:30:37"}
{"error":"tbl_telefono_medico is not associated to tbl_medico!","level":"error","message":"Error creando médico:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_telefono_medico is not associated to tbl_medico!\n    at tbl_medico._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at tbl_medico._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_medico._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tbl_medico.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async tbl_medico.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\doctorController.js:109:30","timestamp":"2025-11-22 17:38:30"}
{"error":{"endpoint":"/api/doctors/","errors":[{"location":"body","msg":"Invalid value","path":"atr_nombre","type":"field"},{"location":"body","msg":"Nombre es requerido","path":"atr_nombre","type":"field","value":""},{"location":"body","msg":"Invalid value","path":"atr_apellido","type":"field"},{"location":"body","msg":"Apellido es requerido","path":"atr_apellido","type":"field","value":""},{"location":"body","msg":"Invalid value","path":"atr_identidad","type":"field"},{"location":"body","msg":"Identidad es requerida","path":"atr_identidad","type":"field","value":""},{"location":"body","msg":"Fecha de nacimiento es requerida","path":"atr_fecha_nacimiento","type":"field"},{"location":"body","msg":"Género es requerido","path":"atr_id_genero","type":"field","value":null},{"location":"body","msg":"Número de colegiado es requerido","path":"atr_numero_colegiado","type":"field"}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-23 07:53:39"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-23 08:25:58"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-23 08:25:58"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:316:24)","timestamp":"2025-11-23 10:18:29"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:316:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:18:29"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:336:23)","timestamp":"2025-11-23 10:18:29"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:336:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:18:29"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:336:23)","timestamp":"2025-11-23 10:18:29"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:336:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:18:29"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:316:24)","timestamp":"2025-11-23 10:18:29"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:316:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:18:29"}
{"error":"Unknown column 'atr_descripcion' in 'field list'","level":"error","message":"Error obtener tipos de cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","sqlMessage":"Unknown column 'atr_descripcion' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","sqlMessage":"Unknown column 'atr_descripcion' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tipo_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getAppointmentTypes (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:376:21)","timestamp":"2025-11-23 10:18:29"}
{"error":{"endpoint":"/api/appointments/types","error":"Unknown column 'atr_descripcion' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tipo_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getAppointmentTypes (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:376:21)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:18:29"}
{"error":"Unknown column 'atr_descripcion' in 'field list'","level":"error","message":"Error obtener tipos de cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","sqlMessage":"Unknown column 'atr_descripcion' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","sqlMessage":"Unknown column 'atr_descripcion' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tipo_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getAppointmentTypes (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:376:21)","timestamp":"2025-11-23 10:18:29"}
{"error":{"endpoint":"/api/appointments/types","error":"Unknown column 'atr_descripcion' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tipo_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getAppointmentTypes (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:376:21)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:18:29"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:336:23)","timestamp":"2025-11-23 10:23:46"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:336:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:23:46"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:316:24)","timestamp":"2025-11-23 10:23:46"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:316:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:23:46"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:316:24)","timestamp":"2025-11-23 10:23:46"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:316:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:23:46"}
{"error":"Unknown column 'atr_descripcion' in 'field list'","level":"error","message":"Error obtener tipos de cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","sqlMessage":"Unknown column 'atr_descripcion' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","sqlMessage":"Unknown column 'atr_descripcion' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tipo_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getAppointmentTypes (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:376:21)","timestamp":"2025-11-23 10:23:46"}
{"error":{"endpoint":"/api/appointments/types","error":"Unknown column 'atr_descripcion' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tipo_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getAppointmentTypes (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:376:21)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:23:46"}
{"error":"Unknown column 'atr_descripcion' in 'field list'","level":"error","message":"Error obtener tipos de cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","sqlMessage":"Unknown column 'atr_descripcion' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","sqlMessage":"Unknown column 'atr_descripcion' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tipo_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getAppointmentTypes (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:376:21)","timestamp":"2025-11-23 10:23:46"}
{"error":{"endpoint":"/api/appointments/types","error":"Unknown column 'atr_descripcion' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tipo_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getAppointmentTypes (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:376:21)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:23:46"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:336:23)","timestamp":"2025-11-23 10:23:46"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:336:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:23:46"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:336:23)","timestamp":"2025-11-23 10:25:29"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:336:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:25:29"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:316:24)","timestamp":"2025-11-23 10:25:29"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:316:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:25:29"}
{"error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","level":"error","message":"Error obtener pacientes","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_paciente`, `atr_nombre`, `atr_apellido` FROM `tbl_paciente` AS `tbl_paciente` WHERE `tbl_paciente`.`atr_estado_paciente` = 'ACTIVO' ORDER BY `tbl_paciente`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:316:24)","timestamp":"2025-11-23 10:25:29"}
{"error":{"endpoint":"/api/appointments/patients","error":"Unknown column 'tbl_paciente.atr_estado_paciente' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_paciente.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getPatients (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:316:24)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:25:29"}
{"error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","level":"error","message":"Error obtener médicos","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","sqlMessage":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_medico`, `atr_nombre`, `atr_apellido` FROM `tbl_medico` AS `tbl_medico` WHERE `tbl_medico`.`atr_estado_medico` = 'ACTIVO' ORDER BY `tbl_medico`.`atr_nombre` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:336:23)","timestamp":"2025-11-23 10:25:29"}
{"error":{"endpoint":"/api/appointments/doctors","error":"Unknown column 'tbl_medico.atr_estado_medico' in 'where clause'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_medico.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getDoctors (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:336:23)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:25:29"}
{"error":"Unknown column 'atr_descripcion' in 'field list'","level":"error","message":"Error obtener tipos de cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","sqlMessage":"Unknown column 'atr_descripcion' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","sqlMessage":"Unknown column 'atr_descripcion' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tipo_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getAppointmentTypes (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:376:21)","timestamp":"2025-11-23 10:25:29"}
{"error":{"endpoint":"/api/appointments/types","error":"Unknown column 'atr_descripcion' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tipo_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getAppointmentTypes (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:376:21)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:25:29"}
{"error":"Unknown column 'atr_descripcion' in 'field list'","level":"error","message":"Error obtener tipos de cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","sqlMessage":"Unknown column 'atr_descripcion' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","sqlMessage":"Unknown column 'atr_descripcion' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_tipo_cita`, `atr_nombre_tipo_cita`, `atr_descripcion` FROM `tbl_tipo_cita` AS `tbl_tipo_cita` ORDER BY `tbl_tipo_cita`.`atr_id_tipo_cita` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tipo_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getAppointmentTypes (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:376:21)","timestamp":"2025-11-23 10:25:29"}
{"error":{"endpoint":"/api/appointments/types","error":"Unknown column 'atr_descripcion' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tipo_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async getAppointmentTypes (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:376:21)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:25:29"}
{"error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","level":"error","message":"Error listando citas","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","timestamp":"2025-11-23 10:36:04"}
{"error":{"endpoint":"/api/appointments?","error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:36:04"}
{"error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","level":"error","message":"Error listando citas","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","sqlMessage":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_nombre_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_descripcion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` ORDER BY `Appointment`.`atr_fecha_cita` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","timestamp":"2025-11-23 10:36:04"}
{"error":{"endpoint":"/api/appointments?","error":"Unknown column 'EstadoCita.atr_nombre_estado' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async listAppointments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:76:28)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 10:36:04"}
{"error":"El médico no tiene horario disponible para domingo","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para domingo\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:43:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:18:27)","timestamp":"2025-11-23 13:57:28"}
{"error":"El médico no tiene horario disponible para lunes","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para lunes\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:43:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:18:27)","timestamp":"2025-11-23 14:01:11"}
{"error":"El médico no tiene horario disponible para martes","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para martes\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:43:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:18:27)","timestamp":"2025-11-23 14:01:49"}
{"error":"El médico no tiene horario disponible para domingo","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para domingo\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:43:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:18:27)","timestamp":"2025-11-23 14:02:03"}
{"error":"El médico no tiene horario disponible para domingo","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para domingo\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:43:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:18:27)","timestamp":"2025-11-23 14:04:48"}
{"error":"El médico no tiene horario disponible para Domingo","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Domingo\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:44:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:18:27)","timestamp":"2025-11-23 14:17:18"}
{"error":"Cannot read properties of undefined (reading 'where')","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'where')\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:54:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:18:27)","timestamp":"2025-11-23 14:28:42"}
{"error":{"endpoint":"/api/appointments","error":"Cannot read properties of undefined (reading 'where')","ip":"::ffff:127.0.0.1","method":"POST","stack":"TypeError: Cannot read properties of undefined (reading 'where')\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:54:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:18:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 14:28:42"}
{"error":"Unknown column 'atr_nombre_estado' in 'field list'","level":"error","message":"Error creando cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_estado`, `atr_nombre_estado`, `atr_descripcion` FROM `tbl_estado_cita` AS `tbl_estado_cita` WHERE `tbl_estado_cita`.`atr_nombre_estado` = 'CANCELADA' LIMIT 1;","sqlMessage":"Unknown column 'atr_nombre_estado' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_estado`, `atr_nombre_estado`, `atr_descripcion` FROM `tbl_estado_cita` AS `tbl_estado_cita` WHERE `tbl_estado_cita`.`atr_nombre_estado` = 'CANCELADA' LIMIT 1;","sqlMessage":"Unknown column 'atr_nombre_estado' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_estado`, `atr_nombre_estado`, `atr_descripcion` FROM `tbl_estado_cita` AS `tbl_estado_cita` WHERE `tbl_estado_cita`.`atr_nombre_estado` = 'CANCELADA' LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_estado_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async tbl_estado_cita.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:78:29)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:18:27)","timestamp":"2025-11-23 14:34:51"}
{"error":{"endpoint":"/api/appointments","error":"Unknown column 'atr_nombre_estado' in 'field list'","ip":"::ffff:127.0.0.1","method":"POST","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_estado_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async tbl_estado_cita.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:78:29)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:18:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 14:34:51"}
{"error":"Unknown column 'atr_nombre_estado' in 'field list'","level":"error","message":"Error creando cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_estado`, `atr_nombre_estado`, `atr_descripcion` FROM `tbl_estado_cita` AS `tbl_estado_cita` WHERE `tbl_estado_cita`.`atr_nombre_estado` = 'CANCELADA' LIMIT 1;","sqlMessage":"Unknown column 'atr_nombre_estado' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `atr_id_estado`, `atr_nombre_estado`, `atr_descripcion` FROM `tbl_estado_cita` AS `tbl_estado_cita` WHERE `tbl_estado_cita`.`atr_nombre_estado` = 'CANCELADA' LIMIT 1;","sqlMessage":"Unknown column 'atr_nombre_estado' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `atr_id_estado`, `atr_nombre_estado`, `atr_descripcion` FROM `tbl_estado_cita` AS `tbl_estado_cita` WHERE `tbl_estado_cita`.`atr_nombre_estado` = 'CANCELADA' LIMIT 1;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_estado_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async tbl_estado_cita.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:78:29)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:18:27)","timestamp":"2025-11-23 14:37:12"}
{"error":{"endpoint":"/api/appointments","error":"Unknown column 'atr_nombre_estado' in 'field list'","ip":"::ffff:127.0.0.1","method":"POST","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_estado_cita.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async tbl_estado_cita.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:78:29)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:18:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 14:37:12"}
{"error":"Estado PROGRAMADA no encontrado en la base de datos","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: Estado PROGRAMADA no encontrado en la base de datos\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:108:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:27)","timestamp":"2025-11-23 15:26:13"}
{"error":{"endpoint":"/api/appointments","error":"Estado PROGRAMADA no encontrado en la base de datos","ip":"::ffff:127.0.0.1","method":"POST","stack":"Error: Estado PROGRAMADA no encontrado en la base de datos\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:108:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 15:26:13"}
{"error":"notNull Violation: Appointment.atr_id_usuario cannot be null","errors":[{"instance":{"atr_duracion":60,"atr_fecha_cita":"2025-11-25","atr_hora_cita":"13:30","atr_id_cita":null,"atr_id_estado":11,"atr_id_medico":3,"atr_id_paciente":2,"atr_id_tipo_cita":9,"atr_motivo_cita":"Paciente se realiza tratamiento estético para mantenimiento facial","createdAt":"2025-11-23T21:34:30.036Z","updatedAt":"2025-11-23T21:34:30.036Z"},"message":"Appointment.atr_id_usuario cannot be null","origin":"CORE","path":"atr_id_usuario","type":"notNull Violation","validatorArgs":[],"validatorKey":"is_null","validatorName":null,"value":null}],"level":"error","message":"Error creando cita","name":"SequelizeValidationError","service":"clinica-estetica-api","stack":"SequelizeValidationError: notNull Violation: Appointment.atr_id_usuario cannot be null\n    at InstanceValidator._validate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:50:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async InstanceValidator._validateAndRunHooks (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:60:7)\n    at async InstanceValidator.validate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:54:12)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2426:7)\n    at async Appointment.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:112:25)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:27)","timestamp":"2025-11-23 15:34:30"}
{"error":{"endpoint":"/api/appointments","error":"notNull Violation: Appointment.atr_id_usuario cannot be null","ip":"::ffff:127.0.0.1","method":"POST","stack":"SequelizeValidationError: notNull Violation: Appointment.atr_id_usuario cannot be null\n    at InstanceValidator._validate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:50:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async InstanceValidator._validateAndRunHooks (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:60:7)\n    at async InstanceValidator.validate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:54:12)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2426:7)\n    at async Appointment.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:112:25)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:22:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 15:34:30"}
{"error":"tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).","level":"error","message":"Error obtener cita","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).\n    at tbl_recordatorio._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:574:15)\n    at tbl_recordatorio._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_recordatorio._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:557:38)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Appointment._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)","timestamp":"2025-11-23 19:04:08"}
{"error":{"endpoint":"/api/appointments/1","error":"tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).","ip":"::ffff:127.0.0.1","method":"GET","stack":"SequelizeEagerLoadingError: tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).\n    at tbl_recordatorio._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:574:15)\n    at tbl_recordatorio._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_recordatorio._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:557:38)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Appointment._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 19:04:08"}
{"error":"tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).","level":"error","message":"Error obtener cita","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).\n    at tbl_recordatorio._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:574:15)\n    at tbl_recordatorio._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_recordatorio._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:557:38)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Appointment._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)","timestamp":"2025-11-23 19:04:08"}
{"error":{"endpoint":"/api/appointments/1","error":"tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).","ip":"::ffff:127.0.0.1","method":"GET","stack":"SequelizeEagerLoadingError: tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).\n    at tbl_recordatorio._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:574:15)\n    at tbl_recordatorio._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_recordatorio._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:557:38)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Appointment._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 19:04:08"}
{"error":"tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).","level":"error","message":"Error obtener cita","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).\n    at tbl_recordatorio._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:574:15)\n    at tbl_recordatorio._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_recordatorio._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:557:38)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Appointment._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)","timestamp":"2025-11-23 19:06:17"}
{"error":{"endpoint":"/api/appointments/1","error":"tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).","ip":"::ffff:127.0.0.1","method":"GET","stack":"SequelizeEagerLoadingError: tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).\n    at tbl_recordatorio._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:574:15)\n    at tbl_recordatorio._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_recordatorio._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:557:38)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Appointment._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 19:06:19"}
{"error":"tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).","level":"error","message":"Error obtener cita","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).\n    at tbl_recordatorio._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:574:15)\n    at tbl_recordatorio._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_recordatorio._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:557:38)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Appointment._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)","timestamp":"2025-11-23 19:06:19"}
{"error":{"endpoint":"/api/appointments/1","error":"tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).","ip":"::ffff:127.0.0.1","method":"GET","stack":"SequelizeEagerLoadingError: tbl_estado_bitacora_recordatorio is associated to tbl_recordatorio using an alias. You've included an alias (EstadosRecordatorio), but it does not match the alias(es) defined in your association (tbl_estado_bitacora_recordatorios).\n    at tbl_recordatorio._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:574:15)\n    at tbl_recordatorio._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at tbl_recordatorio._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:557:38)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Appointment._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 19:06:19"}
{"error":"Table 'clinica.tbl_conf_cita' doesn't exist","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_NO_SUCH_TABLE","errno":1146,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area`, `Confirmaciones`.`atr_id_conf_cita` AS `Confirmaciones.atr_id_conf_cita`, `Confirmaciones`.`atr_id_cita` AS `Confirmaciones.atr_id_cita`, `Confirmaciones`.`atr_fecha_hora_confirmacion` AS `Confirmaciones.atr_fecha_hora_confirmacion`, `Confirmaciones`.`atr_medio` AS `Confirmaciones.atr_medio`, `Confirmaciones`.`atr_confirmado_por` AS `Confirmaciones.atr_confirmado_por`, `Confirmaciones`.`atr_notas` AS `Confirmaciones.atr_notas` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` LEFT OUTER JOIN `tbl_conf_cita` AS `Confirmaciones` ON `Appointment`.`atr_id_cita` = `Confirmaciones`.`atr_id_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Table 'clinica.tbl_conf_cita' doesn't exist","sqlState":"42S02"},"parameters":{},"parent":{"code":"ER_NO_SUCH_TABLE","errno":1146,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area`, `Confirmaciones`.`atr_id_conf_cita` AS `Confirmaciones.atr_id_conf_cita`, `Confirmaciones`.`atr_id_cita` AS `Confirmaciones.atr_id_cita`, `Confirmaciones`.`atr_fecha_hora_confirmacion` AS `Confirmaciones.atr_fecha_hora_confirmacion`, `Confirmaciones`.`atr_medio` AS `Confirmaciones.atr_medio`, `Confirmaciones`.`atr_confirmado_por` AS `Confirmaciones.atr_confirmado_por`, `Confirmaciones`.`atr_notas` AS `Confirmaciones.atr_notas` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` LEFT OUTER JOIN `tbl_conf_cita` AS `Confirmaciones` ON `Appointment`.`atr_id_cita` = `Confirmaciones`.`atr_id_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Table 'clinica.tbl_conf_cita' doesn't exist","sqlState":"42S02"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area`, `Confirmaciones`.`atr_id_conf_cita` AS `Confirmaciones.atr_id_conf_cita`, `Confirmaciones`.`atr_id_cita` AS `Confirmaciones.atr_id_cita`, `Confirmaciones`.`atr_fecha_hora_confirmacion` AS `Confirmaciones.atr_fecha_hora_confirmacion`, `Confirmaciones`.`atr_medio` AS `Confirmaciones.atr_medio`, `Confirmaciones`.`atr_confirmado_por` AS `Confirmaciones.atr_confirmado_por`, `Confirmaciones`.`atr_notas` AS `Confirmaciones.atr_notas` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` LEFT OUTER JOIN `tbl_conf_cita` AS `Confirmaciones` ON `Appointment`.`atr_id_cita` = `Confirmaciones`.`atr_id_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:112:27)","timestamp":"2025-11-23 20:24:38"}
{"error":{"endpoint":"/api/appointments/1","error":"Table 'clinica.tbl_conf_cita' doesn't exist","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:112:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 20:24:38"}
{"error":"Table 'clinica.tbl_conf_cita' doesn't exist","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_NO_SUCH_TABLE","errno":1146,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area`, `Confirmaciones`.`atr_id_conf_cita` AS `Confirmaciones.atr_id_conf_cita`, `Confirmaciones`.`atr_id_cita` AS `Confirmaciones.atr_id_cita`, `Confirmaciones`.`atr_fecha_hora_confirmacion` AS `Confirmaciones.atr_fecha_hora_confirmacion`, `Confirmaciones`.`atr_medio` AS `Confirmaciones.atr_medio`, `Confirmaciones`.`atr_confirmado_por` AS `Confirmaciones.atr_confirmado_por`, `Confirmaciones`.`atr_notas` AS `Confirmaciones.atr_notas` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` LEFT OUTER JOIN `tbl_conf_cita` AS `Confirmaciones` ON `Appointment`.`atr_id_cita` = `Confirmaciones`.`atr_id_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Table 'clinica.tbl_conf_cita' doesn't exist","sqlState":"42S02"},"parameters":{},"parent":{"code":"ER_NO_SUCH_TABLE","errno":1146,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area`, `Confirmaciones`.`atr_id_conf_cita` AS `Confirmaciones.atr_id_conf_cita`, `Confirmaciones`.`atr_id_cita` AS `Confirmaciones.atr_id_cita`, `Confirmaciones`.`atr_fecha_hora_confirmacion` AS `Confirmaciones.atr_fecha_hora_confirmacion`, `Confirmaciones`.`atr_medio` AS `Confirmaciones.atr_medio`, `Confirmaciones`.`atr_confirmado_por` AS `Confirmaciones.atr_confirmado_por`, `Confirmaciones`.`atr_notas` AS `Confirmaciones.atr_notas` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` LEFT OUTER JOIN `tbl_conf_cita` AS `Confirmaciones` ON `Appointment`.`atr_id_cita` = `Confirmaciones`.`atr_id_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Table 'clinica.tbl_conf_cita' doesn't exist","sqlState":"42S02"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area`, `Confirmaciones`.`atr_id_conf_cita` AS `Confirmaciones.atr_id_conf_cita`, `Confirmaciones`.`atr_id_cita` AS `Confirmaciones.atr_id_cita`, `Confirmaciones`.`atr_fecha_hora_confirmacion` AS `Confirmaciones.atr_fecha_hora_confirmacion`, `Confirmaciones`.`atr_medio` AS `Confirmaciones.atr_medio`, `Confirmaciones`.`atr_confirmado_por` AS `Confirmaciones.atr_confirmado_por`, `Confirmaciones`.`atr_notas` AS `Confirmaciones.atr_notas` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` LEFT OUTER JOIN `tbl_conf_cita` AS `Confirmaciones` ON `Appointment`.`atr_id_cita` = `Confirmaciones`.`atr_id_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:112:27)","timestamp":"2025-11-23 20:24:38"}
{"error":{"endpoint":"/api/appointments/1","error":"Table 'clinica.tbl_conf_cita' doesn't exist","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:112:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 20:24:38"}
{"error":"this._fetchAppointmentWithPossibleMissingConf is not a function","level":"error","message":"Error obtener cita","service":"clinica-estetica-api","stack":"TypeError: this._fetchAppointmentWithPossibleMissingConf is not a function\n    at getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:143:38)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at validateRequest (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\validation.js:16:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-23 20:46:31"}
{"error":{"endpoint":"/api/appointments/1","error":"this._fetchAppointmentWithPossibleMissingConf is not a function","ip":"::ffff:127.0.0.1","method":"GET","stack":"TypeError: this._fetchAppointmentWithPossibleMissingConf is not a function\n    at getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:143:38)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at validateRequest (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\validation.js:16:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 20:46:31"}
{"error":"this._fetchAppointmentWithPossibleMissingConf is not a function","level":"error","message":"Error obtener cita","service":"clinica-estetica-api","stack":"TypeError: this._fetchAppointmentWithPossibleMissingConf is not a function\n    at getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:143:38)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at validateRequest (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\validation.js:16:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-23 20:46:31"}
{"error":{"endpoint":"/api/appointments/1","error":"this._fetchAppointmentWithPossibleMissingConf is not a function","ip":"::ffff:127.0.0.1","method":"GET","stack":"TypeError: this._fetchAppointmentWithPossibleMissingConf is not a function\n    at getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:143:38)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at validateRequest (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\validation.js:16:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at middleware (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 20:46:31"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:144:27)","timestamp":"2025-11-23 20:50:52"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:144:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 20:50:52"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:144:27)","timestamp":"2025-11-23 20:50:52"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:144:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 20:50:52"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 20:53:15"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 20:53:15"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 20:53:15"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 20:53:15"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 22:36:35"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 22:36:35"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 22:36:35"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 22:36:35"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 22:40:28"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 22:40:28"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 22:40:28"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 22:40:28"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 22:51:55"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 22:51:55"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 22:53:56"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 22:53:56"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 23:28:36"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 23:28:36"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 23:37:13"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 23:37:13"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 23:37:14"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 23:37:14"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 23:37:48"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 23:37:48"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 23:38:30"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 23:38:30"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 23:38:30"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 23:38:30"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 23:39:26"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 23:39:26"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 23:39:30"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 23:39:30"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 23:39:30"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 23:39:30"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 23:40:47"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 23:40:47"}
{"error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","level":"error","message":"Error obtener cita","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","sqlMessage":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `Appointment`.`atr_id_cita`, `Appointment`.`atr_id_paciente`, `Appointment`.`atr_id_medico`, `Appointment`.`atr_id_usuario`, `Appointment`.`atr_fecha_cita`, `Appointment`.`atr_hora_cita`, `Appointment`.`atr_motivo_cita`, `Appointment`.`atr_id_tipo_cita`, `Appointment`.`atr_id_estado`, `Appointment`.`atr_duracion`, `Appointment`.`atr_fecha_hora_checkin`, `Appointment`.`createdAt`, `Appointment`.`updatedAt`, `Patient`.`atr_id_paciente` AS `Patient.atr_id_paciente`, `Patient`.`atr_nombre` AS `Patient.atr_nombre`, `Patient`.`atr_apellido` AS `Patient.atr_apellido`, `Patient`.`atr_fecha_nacimiento` AS `Patient.atr_fecha_nacimiento`, `Patient`.`atr_identidad` AS `Patient.atr_identidad`, `Patient`.`atr_numero_expediente` AS `Patient.atr_numero_expediente`, `Patient`.`atr_id_genero` AS `Patient.atr_id_genero`, `Patient`.`atr_id_tipo_paciente` AS `Patient.atr_id_tipo_paciente`, `Patient`.`atr_id_consulta` AS `Patient.atr_id_consulta`, `Doctor`.`atr_id_medico` AS `Doctor.atr_id_medico`, `Doctor`.`atr_nombre` AS `Doctor.atr_nombre`, `Doctor`.`atr_apellido` AS `Doctor.atr_apellido`, `Doctor`.`atr_fecha_nacimiento` AS `Doctor.atr_fecha_nacimiento`, `Doctor`.`atr_identidad` AS `Doctor.atr_identidad`, `Doctor`.`atr_id_genero` AS `Doctor.atr_id_genero`, `Doctor`.`atr_id_tipo_medico` AS `Doctor.atr_id_tipo_medico`, `Doctor`.`atr_numero_colegiado` AS `Doctor.atr_numero_colegiado`, `Doctor`.`atr_creado_por` AS `Doctor.atr_creado_por`, `Doctor`.`atr_fecha_creacion` AS `Doctor.atr_fecha_creacion`, `Doctor`.`atr_fecha_actualizacion` AS `Doctor.atr_fecha_actualizacion`, `User`.`atr_id_usuario` AS `User.atr_id_usuario`, `User`.`atr_usuario` AS `User.atr_usuario`, `User`.`atr_nombre_usuario` AS `User.atr_nombre_usuario`, `User`.`atr_estado_usuario` AS `User.atr_estado_usuario`, `User`.`atr_contrasena` AS `User.atr_contrasena`, `User`.`atr_id_rol` AS `User.atr_id_rol`, `User`.`atr_fecha_ultima_conexion` AS `User.atr_fecha_ultima_conexion`, `User`.`atr_primer_ingreso` AS `User.atr_primer_ingreso`, `User`.`atr_fecha_vencimiento` AS `User.atr_fecha_vencimiento`, `User`.`atr_correo_electronico` AS `User.atr_correo_electronico`, `User`.`atr_creado_por` AS `User.atr_creado_por`, `User`.`atr_fecha_creacion` AS `User.atr_fecha_creacion`, `User`.`atr_modificado_por` AS `User.atr_modificado_por`, `User`.`atr_fecha_modificacion` AS `User.atr_fecha_modificacion`, `User`.`atr_reset_token` AS `User.atr_reset_token`, `User`.`atr_reset_expiry` AS `User.atr_reset_expiry`, `User`.`atr_verification_token` AS `User.atr_verification_token`, `User`.`atr_token_expiry` AS `User.atr_token_expiry`, `User`.`atr_intentos_fallidos` AS `User.atr_intentos_fallidos`, `User`.`atr_is_verified` AS `User.atr_is_verified`, `User`.`atr_is_approved` AS `User.atr_is_approved`, `User`.`atr_2fa_secret` AS `User.atr_2fa_secret`, `User`.`atr_2fa_enabled` AS `User.atr_2fa_enabled`, `User`.`atr_email_2fa_code` AS `User.atr_email_2fa_code`, `User`.`atr_email_2fa_expiry` AS `User.atr_email_2fa_expiry`, `User`.`atr_avatar` AS `User.atr_avatar`, `Recordatorios`.`atr_id_recordatorio` AS `Recordatorios.atr_id_recordatorio`, `Recordatorios`.`atr_id_cita` AS `Recordatorios.atr_id_cita`, `Recordatorios`.`atr_fecha_hora_envio` AS `Recordatorios.atr_fecha_hora_envio`, `Recordatorios`.`atr_medio` AS `Recordatorios.atr_medio`, `Recordatorios->EstadosRecordatorio`.`atr_id_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_id_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_estado_recordatorio` AS `Recordatorios.EstadosRecordatorio.atr_estado_recordatorio`, `Recordatorios->EstadosRecordatorio`.`atr_contenido` AS `Recordatorios.EstadosRecordatorio.atr_contenido`, `Recordatorios->EstadosRecordatorio`.`atr_cancelacion` AS `Recordatorios.EstadosRecordatorio.atr_cancelacion`, `EstadoCita`.`atr_id_estado` AS `EstadoCita.atr_id_estado`, `EstadoCita`.`atr_estado` AS `EstadoCita.atr_nombre_estado`, `EstadoCita`.`atr_observacion` AS `EstadoCita.atr_descripcion`, `TipoCita`.`atr_id_tipo_cita` AS `TipoCita.atr_id_tipo_cita`, `TipoCita`.`atr_nombre_tipo_cita` AS `TipoCita.atr_nombre_tipo_cita`, `TipoCita`.`atr_area` AS `TipoCita.atr_area` FROM `tbl_reserva_cita` AS `Appointment` LEFT OUTER JOIN `tbl_paciente` AS `Patient` ON `Appointment`.`atr_id_paciente` = `Patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `Doctor` ON `Appointment`.`atr_id_medico` = `Doctor`.`atr_id_medico` LEFT OUTER JOIN `tbl_ms_usuario` AS `User` ON `Appointment`.`atr_id_usuario` = `User`.`atr_id_usuario` LEFT OUTER JOIN `tbl_recordatorio` AS `Recordatorios` ON `Appointment`.`atr_id_cita` = `Recordatorios`.`atr_id_cita` LEFT OUTER JOIN `tbl_estado_bitacora_recordatorio` AS `Recordatorios->EstadosRecordatorio` ON `Recordatorios`.`atr_id_recordatorio` = `Recordatorios->EstadosRecordatorio`.`atr_id_recordatorio` LEFT OUTER JOIN `tbl_estado_cita` AS `EstadoCita` ON `Appointment`.`atr_id_estado` = `EstadoCita`.`atr_id_estado` LEFT OUTER JOIN `tbl_tipo_cita` AS `TipoCita` ON `Appointment`.`atr_id_tipo_cita` = `TipoCita`.`atr_id_tipo_cita` WHERE `Appointment`.`atr_id_cita` = '1';","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","timestamp":"2025-11-23 23:40:47"}
{"error":{"endpoint":"/api/appointments/1","error":"Unknown column 'Recordatorios->EstadosRecordatorio.atr_id_recordatorio' in 'field list'","ip":"::ffff:127.0.0.1","method":"GET","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async fetchAppointmentWithPossibleMissingConf (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:37:14)\n    at async getById (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:181:27)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-23 23:40:47"}
{"error":"tbl_recordatorio is associated to Appointment using an alias. You've included an alias (Recordatorio), but it does not match the alias(es) defined in your association (Recordatorios).","level":"error","message":"Error reprogramar cita","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_recordatorio is associated to Appointment using an alias. You've included an alias (Recordatorio), but it does not match the alias(es) defined in your association (Recordatorios).\n    at Appointment._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:574:15)\n    at Appointment._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Appointment._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async Object.reschedule (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:294:32)","timestamp":"2025-11-24 00:31:23"}
{"error":{"endpoint":"/api/appointments/1/reschedule","error":"tbl_recordatorio is associated to Appointment using an alias. You've included an alias (Recordatorio), but it does not match the alias(es) defined in your association (Recordatorios).","ip":"::ffff:127.0.0.1","method":"POST","stack":"SequelizeEagerLoadingError: tbl_recordatorio is associated to Appointment using an alias. You've included an alias (Recordatorio), but it does not match the alias(es) defined in your association (Recordatorios).\n    at Appointment._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:574:15)\n    at Appointment._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Appointment._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Appointment.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Appointment.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async Appointment.findByPk (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1221:12)\n    at async Object.reschedule (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:294:32)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-24 00:31:23"}
{"error":"tbl_medico is not associated to Consultation!","level":"error","message":"Error obteniendo consulta por cita:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_medico is not associated to Consultation!\n    at Consultation._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at Consultation._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Consultation._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Consultation.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Consultation.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async exports.getByAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:47:26)","timestamp":"2025-11-24 00:59:12"}
{"error":"tbl_medico is not associated to Consultation!","level":"error","message":"Error obteniendo consulta por cita:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_medico is not associated to Consultation!\n    at Consultation._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at Consultation._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Consultation._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Consultation.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Consultation.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async exports.getByAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:47:26)","timestamp":"2025-11-24 00:59:13"}
{"error":"tbl_medico is not associated to Consultation!","level":"error","message":"Error listando consultas:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_medico is not associated to Consultation!\n    at Consultation._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at Consultation._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Consultation._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Consultation.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:15:27)","timestamp":"2025-11-24 00:59:14"}
{"error":"tbl_medico is not associated to Consultation!","level":"error","message":"Error listando consultas:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_medico is not associated to Consultation!\n    at Consultation._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at Consultation._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Consultation._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Consultation.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:15:27)","timestamp":"2025-11-24 00:59:14"}
{"error":"tbl_medico is not associated to Consultation!","level":"error","message":"Error obteniendo consulta por cita:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_medico is not associated to Consultation!\n    at Consultation._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at Consultation._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Consultation._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Consultation.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Consultation.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async exports.getByAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:47:26)","timestamp":"2025-11-24 01:20:52"}
{"error":"tbl_medico is not associated to Consultation!","level":"error","message":"Error obteniendo consulta por cita:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_medico is not associated to Consultation!\n    at Consultation._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at Consultation._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Consultation._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Consultation.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Consultation.findOne (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1240:12)\n    at async exports.getByAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:47:26)","timestamp":"2025-11-24 01:20:52"}
{"error":"tbl_medico is not associated to Consultation!","level":"error","message":"Error listando consultas:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_medico is not associated to Consultation!\n    at Consultation._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at Consultation._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Consultation._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Consultation.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:15:27)","timestamp":"2025-11-24 01:20:53"}
{"error":"tbl_medico is not associated to Consultation!","level":"error","message":"Error listando consultas:","name":"SequelizeEagerLoadingError","service":"clinica-estetica-api","stack":"SequelizeEagerLoadingError: tbl_medico is not associated to Consultation!\n    at Consultation._getIncludedAssociation (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:565:13)\n    at Consultation._validateIncludedElement (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:502:53)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:421:37\n    at Array.map (<anonymous>)\n    at Consultation._validateIncludedElements (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:417:39)\n    at Consultation.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1124:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:15:27)","timestamp":"2025-11-24 01:20:53"}
{"error":{"endpoint":"/api/consultations/","errors":[{"location":"body","msg":"Fecha de siguiente visita inválida","path":"sigVisitDia","type":"field","value":null}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-24 02:11:03"}
{"error":{"endpoint":"/api/consultations/","errors":[{"location":"body","msg":"Fecha de siguiente visita inválida","path":"sigVisitDia","type":"field","value":null}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-24 02:16:29"}
{"error":"El médico no tiene horario disponible para Miércoles","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Miércoles\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:61:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 03:04:38"}
{"error":"El médico no tiene horario disponible para Martes","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Martes\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:61:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 03:06:09"}
{"error":"El médico no tiene horario disponible para Martes","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Martes\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:61:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 03:06:36"}
{"error":"El médico no tiene horario disponible para Miércoles","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Miércoles\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:61:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 03:09:08"}
{"error":"El médico no tiene horario disponible para Miércoles","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Miércoles\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:76:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 03:15:00"}
{"error":"El médico no tiene horario disponible para Miércoles","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Miércoles\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:76:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 03:16:26"}
{"error":"El médico no tiene horario disponible para Martes","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Martes\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:76:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 03:16:43"}
{"error":"El médico no tiene horario disponible para Martes","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Martes\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:76:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 06:40:50"}
{"error":"El médico no tiene horario disponible para Martes","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Martes\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:76:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 06:45:11"}
{"error":"El médico no tiene horario disponible para Miércoles","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Miércoles\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:76:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 06:45:31"}
{"error":"El médico no tiene horario disponible para Martes","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Martes\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:76:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 06:45:42"}
{"error":"El médico no tiene horario disponible para Martes","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Martes\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:116:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 06:53:05"}
{"error":"El médico no tiene horario disponible para Martes","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Martes\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:116:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 06:54:08"}
{"error":"notNull Violation: tbl_recordatorio.atr_fecha_hora_envio cannot be null","errors":[{"instance":{"atr_fecha_hora_envio":null,"atr_id_cita":"3","atr_id_recordatorio":null,"atr_medio":"email"},"message":"tbl_recordatorio.atr_fecha_hora_envio cannot be null","origin":"CORE","path":"atr_fecha_hora_envio","type":"notNull Violation","validatorArgs":[],"validatorKey":"is_null","validatorName":null,"value":null}],"level":"error","message":"Error reprogramar cita","name":"SequelizeValidationError","service":"clinica-estetica-api","stack":"SequelizeValidationError: notNull Violation: tbl_recordatorio.atr_fecha_hora_envio cannot be null\n    at InstanceValidator._validate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:50:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async InstanceValidator._validateAndRunHooks (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:60:7)\n    at async InstanceValidator.validate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:54:12)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2426:7)\n    at async tbl_recordatorio.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:347:17\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:507:18\n    at async Object.reschedule (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:254:5)\n    at async reschedule (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:290:34)","timestamp":"2025-11-24 07:06:40"}
{"error":{"endpoint":"/api/appointments/3/reschedule","error":"notNull Violation: tbl_recordatorio.atr_fecha_hora_envio cannot be null","ip":"::ffff:127.0.0.1","method":"POST","stack":"SequelizeValidationError: notNull Violation: tbl_recordatorio.atr_fecha_hora_envio cannot be null\n    at InstanceValidator._validate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:50:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async InstanceValidator._validateAndRunHooks (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:60:7)\n    at async InstanceValidator.validate (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\instance-validator.js:54:12)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2426:7)\n    at async tbl_recordatorio.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:347:17\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:507:18\n    at async Object.reschedule (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:254:5)\n    at async reschedule (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:290:34)","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:145.0) Gecko/20100101 Firefox/145.0","userId":14},"level":"error","message":"Unhandled error","service":"clinica-estetica-api","timestamp":"2025-11-24 07:06:40"}
{"error":"Unknown column 'Procedures->products.id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`id` AS `Procedures.products.id`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '1' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`id` AS `Procedures.products.id`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '1' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`id` AS `Procedures.products.id`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '1' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 07:19:39"}
{"error":"Unknown column 'Procedures->products.id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`id` AS `Procedures.products.id`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '1' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`id` AS `Procedures.products.id`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '1' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`id` AS `Procedures.products.id`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '1' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 07:19:39"}
{"error":"Unknown column 'Procedures->products.id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`id` AS `Procedures.products.id`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '1' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`id` AS `Procedures.products.id`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '1' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`id` AS `Procedures.products.id`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '1' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 07:19:39"}
{"error":{"endpoint":"/api/consultations/1/treatments","errors":[{"location":"body","msg":"Invalid value","path":"tratamientos[0].productoId","type":"field","value":null}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-24 07:28:11"}
{"error":{"endpoint":"/api/consultations/1/treatments","errors":[{"location":"body","msg":"Invalid value","path":"tratamientos[0].productoId","type":"field","value":null}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-24 07:28:15"}
{"error":{"endpoint":"/api/consultations/1/treatments","errors":[{"location":"body","msg":"Invalid value","path":"tratamientos[0].productoId","type":"field","value":null}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-24 07:28:16"}
{"error":{"endpoint":"/api/consultations/1/treatments","errors":[{"location":"body","msg":"Invalid value","path":"tratamientos[0].productoId","type":"field","value":null}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-24 07:28:17"}
{"error":"Unknown column 'Procedures->products.id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`id` AS `Procedures.products.id`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '1' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`id` AS `Procedures.products.id`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '1' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`id` AS `Procedures.products.id`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '1' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 08:09:25"}
{"error":{"endpoint":"/api/consultations/1/treatments","errors":[{"location":"body","msg":"Invalid value","path":"tratamientos[0].productoId","type":"field","value":null}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-24 08:23:19"}
{"error":{"endpoint":"/api/consultations/[object%20Object]/finish","errors":[{"location":"params","msg":"Invalid value","path":"id","type":"field","value":"[object Object]"}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-24 08:23:53"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-24 08:57:18"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-24 08:57:18"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-24 09:00:21"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-24 09:00:21"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-24 09:42:50"}
{"error":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","level":"error","message":"Error listando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","sqlMessage":"Unknown column 'tbl_tratamiento.createdAt' in 'order clause'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `patient`.`atr_id_paciente` AS `patient.atr_id_paciente`, `patient`.`atr_nombre` AS `patient.atr_nombre`, `patient`.`atr_apellido` AS `patient.atr_apellido`, `patient`.`atr_numero_expediente` AS `patient.atr_numero_expediente`, `doctor`.`atr_id_medico` AS `doctor.atr_id_medico`, `doctor`.`atr_nombre` AS `doctor.atr_nombre`, `doctor`.`atr_apellido` AS `doctor.atr_apellido`, `doctor->Especialidades`.`atr_id_especialidad` AS `doctor.Especialidades.atr_id_especialidad`, `doctor->Especialidades`.`atr_especialidad` AS `doctor.Especialidades.atr_especialidad` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_paciente` AS `patient` ON `tbl_tratamiento`.`atr_id_paciente` = `patient`.`atr_id_paciente` LEFT OUTER JOIN `tbl_medico` AS `doctor` ON `tbl_tratamiento`.`atr_id_medico` = `doctor`.`atr_id_medico` LEFT OUTER JOIN ( `tbl_medico_especialidad` AS `doctor->Especialidades->MedicoEspecialidad` INNER JOIN `tbl_especialidad` AS `doctor->Especialidades` ON `doctor->Especialidades`.`atr_id_especialidad` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_especialidad`) ON `doctor`.`atr_id_medico` = `doctor->Especialidades->MedicoEspecialidad`.`atr_id_medico` ORDER BY `tbl_tratamiento`.`createdAt` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.list (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:7:24)","timestamp":"2025-11-24 09:42:50"}
{"error":{"endpoint":"/api/treatments/","errors":[{"location":"body","msg":"ID del paciente es requerido","path":"patientId","type":"field"},{"location":"body","msg":"ID del médico es requerido","path":"doctorId","type":"field"},{"location":"body","msg":"Fecha de inicio es requerida","path":"startDate","type":"field"}],"method":"POST"},"level":"error","message":"Validation error","service":"clinica-estetica-api","timestamp":"2025-11-24 09:59:01"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-24 12:34:20"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-24 12:34:20"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-24 12:34:20"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-24 12:34:20"}
{"error":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '2' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '2' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '2' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 16:13:13"}
{"error":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '2' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '2' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '2' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 16:13:13"}
{"error":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '2' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '2' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '2' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 16:13:13"}
{"error":"Unknown column 'atr_procedimiento_id' in 'field list'","level":"error","message":"Error creando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[1,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":[1,1,1,"unidad"],"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[1,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async TPP.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async exports.createTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:817:11)","timestamp":"2025-11-24 16:16:07"}
{"error":"Unknown column 'atr_procedimiento_id' in 'field list'","level":"error","message":"Error creando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[2,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":[2,1,1,"unidad"],"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[2,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async TPP.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async exports.createTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:817:11)","timestamp":"2025-11-24 16:16:10"}
{"error":"Unknown column 'atr_procedimiento_id' in 'field list'","level":"error","message":"Error creando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[3,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":[3,1,1,"unidad"],"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[3,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async TPP.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async exports.createTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:817:11)","timestamp":"2025-11-24 16:16:10"}
{"error":"Unknown column 'atr_procedimiento_id' in 'field list'","level":"error","message":"Error creando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[4,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":[4,1,1,"unidad"],"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[4,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async TPP.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async exports.createTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:817:11)","timestamp":"2025-11-24 16:16:10"}
{"error":"Unknown column 'atr_procedimiento_id' in 'field list'","level":"error","message":"Error creando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[5,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":[5,1,1,"unidad"],"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[5,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async TPP.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async exports.createTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:817:11)","timestamp":"2025-11-24 16:16:11"}
{"error":"Unknown column 'atr_procedimiento_id' in 'field list'","level":"error","message":"Error creando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[6,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":[6,1,1,"unidad"],"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[6,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async TPP.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async exports.createTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:817:11)","timestamp":"2025-11-24 16:16:11"}
{"error":"Unknown column 'atr_procedimiento_id' in 'field list'","level":"error","message":"Error creando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[7,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":[7,1,1,"unidad"],"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[7,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async TPP.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async exports.createTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:817:11)","timestamp":"2025-11-24 16:16:12"}
{"error":"Unknown column 'atr_procedimiento_id' in 'field list'","level":"error","message":"Error creando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[8,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":[8,1,1,"unidad"],"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[8,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async TPP.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async exports.createTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:817:11)","timestamp":"2025-11-24 16:16:12"}
{"error":"Unknown column 'atr_procedimiento_id' in 'field list'","level":"error","message":"Error creando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[9,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":[9,1,1,"unidad"],"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[9,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async TPP.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async exports.createTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:817:11)","timestamp":"2025-11-24 16:16:12"}
{"error":"Unknown column 'atr_procedimiento_id' in 'field list'","level":"error","message":"Error creando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[10,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":[10,1,1,"unidad"],"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[10,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async TPP.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async exports.createTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:817:11)","timestamp":"2025-11-24 16:16:13"}
{"error":"Unknown column 'products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error listando procedimientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `TreatmentProcedure`.`atr_id_procedimiento`, `TreatmentProcedure`.`atr_id_tratamiento`, `TreatmentProcedure`.`atr_procedimiento_tipo`, `TreatmentProcedure`.`atr_procedimiento_codigo`, `TreatmentProcedure`.`atr_procedimiento_nombre`, `TreatmentProcedure`.`atr_area`, `TreatmentProcedure`.`atr_programado_para`, `TreatmentProcedure`.`atr_ejecutado_el`, `TreatmentProcedure`.`atr_id_medico`, `TreatmentProcedure`.`atr_estado`, `TreatmentProcedure`.`atr_resultado`, `TreatmentProcedure`.`atr_imagen_pre`, `TreatmentProcedure`.`atr_imagen_post`, `TreatmentProcedure`.`atr_recomendaciones`, `Medico`.`atr_id_medico` AS `Medico.atr_id_medico`, `Medico`.`atr_nombre` AS `Medico.atr_nombre`, `Medico`.`atr_apellido` AS `Medico.atr_apellido`, `products`.`atr_procedimiento_id` AS `products.atr_procedimiento_id`, `products`.`atr_product_id` AS `products.atr_product_id`, `products`.`atr_cantidad` AS `products.atr_cantidad`, `products`.`atr_unidad` AS `products.atr_unidad`, `products->product`.`atr_id_producto` AS `products.product.atr_id_producto`, `products->product`.`atr_nombre_producto` AS `products.product.atr_nombre_producto` FROM `tbl_tratamiento_procedimiento` AS `TreatmentProcedure` LEFT OUTER JOIN `tbl_medico` AS `Medico` ON `TreatmentProcedure`.`atr_id_medico` = `Medico`.`atr_id_medico` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `products` ON `TreatmentProcedure`.`atr_id_procedimiento` = `products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `products->product` ON `products`.`atr_product_id` = `products->product`.`atr_id_producto` WHERE `TreatmentProcedure`.`atr_id_tratamiento` = '9' ORDER BY `TreatmentProcedure`.`atr_programado_para` ASC;","sqlMessage":"Unknown column 'products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `TreatmentProcedure`.`atr_id_procedimiento`, `TreatmentProcedure`.`atr_id_tratamiento`, `TreatmentProcedure`.`atr_procedimiento_tipo`, `TreatmentProcedure`.`atr_procedimiento_codigo`, `TreatmentProcedure`.`atr_procedimiento_nombre`, `TreatmentProcedure`.`atr_area`, `TreatmentProcedure`.`atr_programado_para`, `TreatmentProcedure`.`atr_ejecutado_el`, `TreatmentProcedure`.`atr_id_medico`, `TreatmentProcedure`.`atr_estado`, `TreatmentProcedure`.`atr_resultado`, `TreatmentProcedure`.`atr_imagen_pre`, `TreatmentProcedure`.`atr_imagen_post`, `TreatmentProcedure`.`atr_recomendaciones`, `Medico`.`atr_id_medico` AS `Medico.atr_id_medico`, `Medico`.`atr_nombre` AS `Medico.atr_nombre`, `Medico`.`atr_apellido` AS `Medico.atr_apellido`, `products`.`atr_procedimiento_id` AS `products.atr_procedimiento_id`, `products`.`atr_product_id` AS `products.atr_product_id`, `products`.`atr_cantidad` AS `products.atr_cantidad`, `products`.`atr_unidad` AS `products.atr_unidad`, `products->product`.`atr_id_producto` AS `products.product.atr_id_producto`, `products->product`.`atr_nombre_producto` AS `products.product.atr_nombre_producto` FROM `tbl_tratamiento_procedimiento` AS `TreatmentProcedure` LEFT OUTER JOIN `tbl_medico` AS `Medico` ON `TreatmentProcedure`.`atr_id_medico` = `Medico`.`atr_id_medico` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `products` ON `TreatmentProcedure`.`atr_id_procedimiento` = `products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `products->product` ON `products`.`atr_product_id` = `products->product`.`atr_id_producto` WHERE `TreatmentProcedure`.`atr_id_tratamiento` = '9' ORDER BY `TreatmentProcedure`.`atr_programado_para` ASC;","sqlMessage":"Unknown column 'products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `TreatmentProcedure`.`atr_id_procedimiento`, `TreatmentProcedure`.`atr_id_tratamiento`, `TreatmentProcedure`.`atr_procedimiento_tipo`, `TreatmentProcedure`.`atr_procedimiento_codigo`, `TreatmentProcedure`.`atr_procedimiento_nombre`, `TreatmentProcedure`.`atr_area`, `TreatmentProcedure`.`atr_programado_para`, `TreatmentProcedure`.`atr_ejecutado_el`, `TreatmentProcedure`.`atr_id_medico`, `TreatmentProcedure`.`atr_estado`, `TreatmentProcedure`.`atr_resultado`, `TreatmentProcedure`.`atr_imagen_pre`, `TreatmentProcedure`.`atr_imagen_post`, `TreatmentProcedure`.`atr_recomendaciones`, `Medico`.`atr_id_medico` AS `Medico.atr_id_medico`, `Medico`.`atr_nombre` AS `Medico.atr_nombre`, `Medico`.`atr_apellido` AS `Medico.atr_apellido`, `products`.`atr_procedimiento_id` AS `products.atr_procedimiento_id`, `products`.`atr_product_id` AS `products.atr_product_id`, `products`.`atr_cantidad` AS `products.atr_cantidad`, `products`.`atr_unidad` AS `products.atr_unidad`, `products->product`.`atr_id_producto` AS `products.product.atr_id_producto`, `products->product`.`atr_nombre_producto` AS `products.product.atr_nombre_producto` FROM `tbl_tratamiento_procedimiento` AS `TreatmentProcedure` LEFT OUTER JOIN `tbl_medico` AS `Medico` ON `TreatmentProcedure`.`atr_id_medico` = `Medico`.`atr_id_medico` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `products` ON `TreatmentProcedure`.`atr_id_procedimiento` = `products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `products->product` ON `products`.`atr_product_id` = `products->product`.`atr_id_producto` WHERE `TreatmentProcedure`.`atr_id_tratamiento` = '9' ORDER BY `TreatmentProcedure`.`atr_programado_para` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async TreatmentProcedure.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.listByTreatment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentProcedureController.js:12:24)","timestamp":"2025-11-24 17:34:14"}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_tratamiento_procedimiento`, CONSTRAINT `tbl_tratamiento_procedimiento_ibfk_1` FOREIGN KEY (`atr_id_tratamiento`) REFERENCES `tbl_tratamiento` (`atr_id_tratamiento`))","fields":["atr_id_tratamiento"],"index":"tbl_tratamiento_procedimiento_ibfk_1","level":"error","message":"Error eliminando tratamiento:","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_ROW_IS_REFERENCED_2","errno":1451,"sql":"DELETE FROM `tbl_tratamiento` WHERE `atr_id_tratamiento` = 10","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_tratamiento_procedimiento`, CONSTRAINT `tbl_tratamiento_procedimiento_ibfk_1` FOREIGN KEY (`atr_id_tratamiento`) REFERENCES `tbl_tratamiento` (`atr_id_tratamiento`))","sqlState":"23000"},"parameters":{},"parent":{"code":"ER_ROW_IS_REFERENCED_2","errno":1451,"sql":"DELETE FROM `tbl_tratamiento` WHERE `atr_id_tratamiento` = 10","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_tratamiento_procedimiento`, CONSTRAINT `tbl_tratamiento_procedimiento_ibfk_1` FOREIGN KEY (`atr_id_tratamiento`) REFERENCES `tbl_tratamiento` (`atr_id_tratamiento`))","sqlState":"23000"},"reltype":"parent","service":"clinica-estetica-api","sql":"DELETE FROM `tbl_tratamiento` WHERE `atr_id_tratamiento` = 10","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.delete (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:393:12)\n    at async model.destroy (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2627:16)\n    at async exports.delete (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:201:5)","table":"tbl_tratamiento","timestamp":"2025-11-24 17:34:42","value":10}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_tratamiento_procedimiento`, CONSTRAINT `tbl_tratamiento_procedimiento_ibfk_1` FOREIGN KEY (`atr_id_tratamiento`) REFERENCES `tbl_tratamiento` (`atr_id_tratamiento`))","fields":["atr_id_tratamiento"],"index":"tbl_tratamiento_procedimiento_ibfk_1","level":"error","message":"Error eliminando tratamiento:","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_ROW_IS_REFERENCED_2","errno":1451,"sql":"DELETE FROM `tbl_tratamiento` WHERE `atr_id_tratamiento` = 10","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_tratamiento_procedimiento`, CONSTRAINT `tbl_tratamiento_procedimiento_ibfk_1` FOREIGN KEY (`atr_id_tratamiento`) REFERENCES `tbl_tratamiento` (`atr_id_tratamiento`))","sqlState":"23000"},"parameters":{},"parent":{"code":"ER_ROW_IS_REFERENCED_2","errno":1451,"sql":"DELETE FROM `tbl_tratamiento` WHERE `atr_id_tratamiento` = 10","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_tratamiento_procedimiento`, CONSTRAINT `tbl_tratamiento_procedimiento_ibfk_1` FOREIGN KEY (`atr_id_tratamiento`) REFERENCES `tbl_tratamiento` (`atr_id_tratamiento`))","sqlState":"23000"},"reltype":"parent","service":"clinica-estetica-api","sql":"DELETE FROM `tbl_tratamiento` WHERE `atr_id_tratamiento` = 10","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.delete (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:393:12)\n    at async model.destroy (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2627:16)\n    at async exports.delete (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:201:5)","table":"tbl_tratamiento","timestamp":"2025-11-24 17:34:50","value":10}
{"error":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_tratamiento_procedimiento`, CONSTRAINT `tbl_tratamiento_procedimiento_ibfk_1` FOREIGN KEY (`atr_id_tratamiento`) REFERENCES `tbl_tratamiento` (`atr_id_tratamiento`))","fields":["atr_id_tratamiento"],"index":"tbl_tratamiento_procedimiento_ibfk_1","level":"error","message":"Error eliminando tratamiento:","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_ROW_IS_REFERENCED_2","errno":1451,"sql":"DELETE FROM `tbl_tratamiento` WHERE `atr_id_tratamiento` = 7","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_tratamiento_procedimiento`, CONSTRAINT `tbl_tratamiento_procedimiento_ibfk_1` FOREIGN KEY (`atr_id_tratamiento`) REFERENCES `tbl_tratamiento` (`atr_id_tratamiento`))","sqlState":"23000"},"parameters":{},"parent":{"code":"ER_ROW_IS_REFERENCED_2","errno":1451,"sql":"DELETE FROM `tbl_tratamiento` WHERE `atr_id_tratamiento` = 7","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails (`clinica`.`tbl_tratamiento_procedimiento`, CONSTRAINT `tbl_tratamiento_procedimiento_ibfk_1` FOREIGN KEY (`atr_id_tratamiento`) REFERENCES `tbl_tratamiento` (`atr_id_tratamiento`))","sqlState":"23000"},"reltype":"parent","service":"clinica-estetica-api","sql":"DELETE FROM `tbl_tratamiento` WHERE `atr_id_tratamiento` = 7","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.delete (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:393:12)\n    at async model.destroy (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2627:16)\n    at async exports.delete (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentController.js:201:5)","table":"tbl_tratamiento","timestamp":"2025-11-24 18:13:22","value":7}
{"error":"Unknown column 'products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error listando procedimientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `TreatmentProcedure`.`atr_id_procedimiento`, `TreatmentProcedure`.`atr_id_tratamiento`, `TreatmentProcedure`.`atr_procedimiento_tipo`, `TreatmentProcedure`.`atr_procedimiento_codigo`, `TreatmentProcedure`.`atr_procedimiento_nombre`, `TreatmentProcedure`.`atr_area`, `TreatmentProcedure`.`atr_programado_para`, `TreatmentProcedure`.`atr_ejecutado_el`, `TreatmentProcedure`.`atr_id_medico`, `TreatmentProcedure`.`atr_estado`, `TreatmentProcedure`.`atr_resultado`, `TreatmentProcedure`.`atr_imagen_pre`, `TreatmentProcedure`.`atr_imagen_post`, `TreatmentProcedure`.`atr_recomendaciones`, `Medico`.`atr_id_medico` AS `Medico.atr_id_medico`, `Medico`.`atr_nombre` AS `Medico.atr_nombre`, `Medico`.`atr_apellido` AS `Medico.atr_apellido`, `products`.`atr_procedimiento_id` AS `products.atr_procedimiento_id`, `products`.`atr_product_id` AS `products.atr_product_id`, `products`.`atr_cantidad` AS `products.atr_cantidad`, `products`.`atr_unidad` AS `products.atr_unidad`, `products->product`.`atr_id_producto` AS `products.product.atr_id_producto`, `products->product`.`atr_nombre_producto` AS `products.product.atr_nombre_producto` FROM `tbl_tratamiento_procedimiento` AS `TreatmentProcedure` LEFT OUTER JOIN `tbl_medico` AS `Medico` ON `TreatmentProcedure`.`atr_id_medico` = `Medico`.`atr_id_medico` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `products` ON `TreatmentProcedure`.`atr_id_procedimiento` = `products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `products->product` ON `products`.`atr_product_id` = `products->product`.`atr_id_producto` WHERE `TreatmentProcedure`.`atr_id_tratamiento` = '4' ORDER BY `TreatmentProcedure`.`atr_programado_para` ASC;","sqlMessage":"Unknown column 'products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `TreatmentProcedure`.`atr_id_procedimiento`, `TreatmentProcedure`.`atr_id_tratamiento`, `TreatmentProcedure`.`atr_procedimiento_tipo`, `TreatmentProcedure`.`atr_procedimiento_codigo`, `TreatmentProcedure`.`atr_procedimiento_nombre`, `TreatmentProcedure`.`atr_area`, `TreatmentProcedure`.`atr_programado_para`, `TreatmentProcedure`.`atr_ejecutado_el`, `TreatmentProcedure`.`atr_id_medico`, `TreatmentProcedure`.`atr_estado`, `TreatmentProcedure`.`atr_resultado`, `TreatmentProcedure`.`atr_imagen_pre`, `TreatmentProcedure`.`atr_imagen_post`, `TreatmentProcedure`.`atr_recomendaciones`, `Medico`.`atr_id_medico` AS `Medico.atr_id_medico`, `Medico`.`atr_nombre` AS `Medico.atr_nombre`, `Medico`.`atr_apellido` AS `Medico.atr_apellido`, `products`.`atr_procedimiento_id` AS `products.atr_procedimiento_id`, `products`.`atr_product_id` AS `products.atr_product_id`, `products`.`atr_cantidad` AS `products.atr_cantidad`, `products`.`atr_unidad` AS `products.atr_unidad`, `products->product`.`atr_id_producto` AS `products.product.atr_id_producto`, `products->product`.`atr_nombre_producto` AS `products.product.atr_nombre_producto` FROM `tbl_tratamiento_procedimiento` AS `TreatmentProcedure` LEFT OUTER JOIN `tbl_medico` AS `Medico` ON `TreatmentProcedure`.`atr_id_medico` = `Medico`.`atr_id_medico` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `products` ON `TreatmentProcedure`.`atr_id_procedimiento` = `products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `products->product` ON `products`.`atr_product_id` = `products->product`.`atr_id_producto` WHERE `TreatmentProcedure`.`atr_id_tratamiento` = '4' ORDER BY `TreatmentProcedure`.`atr_programado_para` ASC;","sqlMessage":"Unknown column 'products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `TreatmentProcedure`.`atr_id_procedimiento`, `TreatmentProcedure`.`atr_id_tratamiento`, `TreatmentProcedure`.`atr_procedimiento_tipo`, `TreatmentProcedure`.`atr_procedimiento_codigo`, `TreatmentProcedure`.`atr_procedimiento_nombre`, `TreatmentProcedure`.`atr_area`, `TreatmentProcedure`.`atr_programado_para`, `TreatmentProcedure`.`atr_ejecutado_el`, `TreatmentProcedure`.`atr_id_medico`, `TreatmentProcedure`.`atr_estado`, `TreatmentProcedure`.`atr_resultado`, `TreatmentProcedure`.`atr_imagen_pre`, `TreatmentProcedure`.`atr_imagen_post`, `TreatmentProcedure`.`atr_recomendaciones`, `Medico`.`atr_id_medico` AS `Medico.atr_id_medico`, `Medico`.`atr_nombre` AS `Medico.atr_nombre`, `Medico`.`atr_apellido` AS `Medico.atr_apellido`, `products`.`atr_procedimiento_id` AS `products.atr_procedimiento_id`, `products`.`atr_product_id` AS `products.atr_product_id`, `products`.`atr_cantidad` AS `products.atr_cantidad`, `products`.`atr_unidad` AS `products.atr_unidad`, `products->product`.`atr_id_producto` AS `products.product.atr_id_producto`, `products->product`.`atr_nombre_producto` AS `products.product.atr_nombre_producto` FROM `tbl_tratamiento_procedimiento` AS `TreatmentProcedure` LEFT OUTER JOIN `tbl_medico` AS `Medico` ON `TreatmentProcedure`.`atr_id_medico` = `Medico`.`atr_id_medico` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `products` ON `TreatmentProcedure`.`atr_id_procedimiento` = `products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `products->product` ON `products`.`atr_product_id` = `products->product`.`atr_id_producto` WHERE `TreatmentProcedure`.`atr_id_tratamiento` = '4' ORDER BY `TreatmentProcedure`.`atr_programado_para` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async TreatmentProcedure.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.listByTreatment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentProcedureController.js:12:24)","timestamp":"2025-11-24 18:31:10"}
{"error":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '3' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '3' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '3' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 19:19:37"}
{"error":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '3' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '3' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '3' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 19:19:37"}
{"error":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '3' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '3' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '3' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 19:19:37"}
{"error":"Unknown column 'atr_procedimiento_id' in 'field list'","level":"error","message":"Error creando tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[11,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":[11,1,1,"unidad"],"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"parameters":[11,1,1,"unidad"],"sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","sqlMessage":"Unknown column 'atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"INSERT INTO `tbl_tratamiento_procedimiento_producto` (`atr_procedimiento_id`,`atr_product_id`,`atr_cantidad`,`atr_unidad`) VALUES (?,?,?,?);","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.insert (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:308:21)\n    at async model.save (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:2490:35)\n    at async TPP.create (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1362:12)\n    at async exports.createTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:817:11)","timestamp":"2025-11-24 19:21:42"}
{"error":"La nueva hora (00:30) no está dentro del horario disponible del médico (08:00:00 - 17:00:00)","level":"error","message":"Error reprogramar cita","service":"clinica-estetica-api","stack":"Error: La nueva hora (00:30) no está dentro del horario disponible del médico (08:00:00 - 17:00:00)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:295:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:507:18\n    at async Object.reschedule (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:254:5)\n    at async reschedule (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:290:34)","timestamp":"2025-11-24 19:40:41"}
{"error":"Unknown column 'products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error listando procedimientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `TreatmentProcedure`.`atr_id_procedimiento`, `TreatmentProcedure`.`atr_id_tratamiento`, `TreatmentProcedure`.`atr_procedimiento_tipo`, `TreatmentProcedure`.`atr_procedimiento_codigo`, `TreatmentProcedure`.`atr_procedimiento_nombre`, `TreatmentProcedure`.`atr_area`, `TreatmentProcedure`.`atr_programado_para`, `TreatmentProcedure`.`atr_ejecutado_el`, `TreatmentProcedure`.`atr_id_medico`, `TreatmentProcedure`.`atr_estado`, `TreatmentProcedure`.`atr_resultado`, `TreatmentProcedure`.`atr_imagen_pre`, `TreatmentProcedure`.`atr_imagen_post`, `TreatmentProcedure`.`atr_recomendaciones`, `Medico`.`atr_id_medico` AS `Medico.atr_id_medico`, `Medico`.`atr_nombre` AS `Medico.atr_nombre`, `Medico`.`atr_apellido` AS `Medico.atr_apellido`, `products`.`atr_procedimiento_id` AS `products.atr_procedimiento_id`, `products`.`atr_product_id` AS `products.atr_product_id`, `products`.`atr_cantidad` AS `products.atr_cantidad`, `products`.`atr_unidad` AS `products.atr_unidad`, `products->product`.`atr_id_producto` AS `products.product.atr_id_producto`, `products->product`.`atr_nombre_producto` AS `products.product.atr_nombre_producto` FROM `tbl_tratamiento_procedimiento` AS `TreatmentProcedure` LEFT OUTER JOIN `tbl_medico` AS `Medico` ON `TreatmentProcedure`.`atr_id_medico` = `Medico`.`atr_id_medico` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `products` ON `TreatmentProcedure`.`atr_id_procedimiento` = `products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `products->product` ON `products`.`atr_product_id` = `products->product`.`atr_id_producto` WHERE `TreatmentProcedure`.`atr_id_tratamiento` = '4' ORDER BY `TreatmentProcedure`.`atr_programado_para` ASC;","sqlMessage":"Unknown column 'products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `TreatmentProcedure`.`atr_id_procedimiento`, `TreatmentProcedure`.`atr_id_tratamiento`, `TreatmentProcedure`.`atr_procedimiento_tipo`, `TreatmentProcedure`.`atr_procedimiento_codigo`, `TreatmentProcedure`.`atr_procedimiento_nombre`, `TreatmentProcedure`.`atr_area`, `TreatmentProcedure`.`atr_programado_para`, `TreatmentProcedure`.`atr_ejecutado_el`, `TreatmentProcedure`.`atr_id_medico`, `TreatmentProcedure`.`atr_estado`, `TreatmentProcedure`.`atr_resultado`, `TreatmentProcedure`.`atr_imagen_pre`, `TreatmentProcedure`.`atr_imagen_post`, `TreatmentProcedure`.`atr_recomendaciones`, `Medico`.`atr_id_medico` AS `Medico.atr_id_medico`, `Medico`.`atr_nombre` AS `Medico.atr_nombre`, `Medico`.`atr_apellido` AS `Medico.atr_apellido`, `products`.`atr_procedimiento_id` AS `products.atr_procedimiento_id`, `products`.`atr_product_id` AS `products.atr_product_id`, `products`.`atr_cantidad` AS `products.atr_cantidad`, `products`.`atr_unidad` AS `products.atr_unidad`, `products->product`.`atr_id_producto` AS `products.product.atr_id_producto`, `products->product`.`atr_nombre_producto` AS `products.product.atr_nombre_producto` FROM `tbl_tratamiento_procedimiento` AS `TreatmentProcedure` LEFT OUTER JOIN `tbl_medico` AS `Medico` ON `TreatmentProcedure`.`atr_id_medico` = `Medico`.`atr_id_medico` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `products` ON `TreatmentProcedure`.`atr_id_procedimiento` = `products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `products->product` ON `products`.`atr_product_id` = `products->product`.`atr_id_producto` WHERE `TreatmentProcedure`.`atr_id_tratamiento` = '4' ORDER BY `TreatmentProcedure`.`atr_programado_para` ASC;","sqlMessage":"Unknown column 'products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `TreatmentProcedure`.`atr_id_procedimiento`, `TreatmentProcedure`.`atr_id_tratamiento`, `TreatmentProcedure`.`atr_procedimiento_tipo`, `TreatmentProcedure`.`atr_procedimiento_codigo`, `TreatmentProcedure`.`atr_procedimiento_nombre`, `TreatmentProcedure`.`atr_area`, `TreatmentProcedure`.`atr_programado_para`, `TreatmentProcedure`.`atr_ejecutado_el`, `TreatmentProcedure`.`atr_id_medico`, `TreatmentProcedure`.`atr_estado`, `TreatmentProcedure`.`atr_resultado`, `TreatmentProcedure`.`atr_imagen_pre`, `TreatmentProcedure`.`atr_imagen_post`, `TreatmentProcedure`.`atr_recomendaciones`, `Medico`.`atr_id_medico` AS `Medico.atr_id_medico`, `Medico`.`atr_nombre` AS `Medico.atr_nombre`, `Medico`.`atr_apellido` AS `Medico.atr_apellido`, `products`.`atr_procedimiento_id` AS `products.atr_procedimiento_id`, `products`.`atr_product_id` AS `products.atr_product_id`, `products`.`atr_cantidad` AS `products.atr_cantidad`, `products`.`atr_unidad` AS `products.atr_unidad`, `products->product`.`atr_id_producto` AS `products.product.atr_id_producto`, `products->product`.`atr_nombre_producto` AS `products.product.atr_nombre_producto` FROM `tbl_tratamiento_procedimiento` AS `TreatmentProcedure` LEFT OUTER JOIN `tbl_medico` AS `Medico` ON `TreatmentProcedure`.`atr_id_medico` = `Medico`.`atr_id_medico` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `products` ON `TreatmentProcedure`.`atr_id_procedimiento` = `products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `products->product` ON `products`.`atr_product_id` = `products->product`.`atr_id_producto` WHERE `TreatmentProcedure`.`atr_id_tratamiento` = '4' ORDER BY `TreatmentProcedure`.`atr_programado_para` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async TreatmentProcedure.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.listByTreatment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentProcedureController.js:12:24)","timestamp":"2025-11-24 19:58:22"}
{"error":"Unknown column 'products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error listando procedimientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `TreatmentProcedure`.`atr_id_procedimiento`, `TreatmentProcedure`.`atr_id_tratamiento`, `TreatmentProcedure`.`atr_procedimiento_tipo`, `TreatmentProcedure`.`atr_procedimiento_codigo`, `TreatmentProcedure`.`atr_procedimiento_nombre`, `TreatmentProcedure`.`atr_area`, `TreatmentProcedure`.`atr_programado_para`, `TreatmentProcedure`.`atr_ejecutado_el`, `TreatmentProcedure`.`atr_id_medico`, `TreatmentProcedure`.`atr_estado`, `TreatmentProcedure`.`atr_resultado`, `TreatmentProcedure`.`atr_imagen_pre`, `TreatmentProcedure`.`atr_imagen_post`, `TreatmentProcedure`.`atr_recomendaciones`, `Medico`.`atr_id_medico` AS `Medico.atr_id_medico`, `Medico`.`atr_nombre` AS `Medico.atr_nombre`, `Medico`.`atr_apellido` AS `Medico.atr_apellido`, `products`.`atr_procedimiento_id` AS `products.atr_procedimiento_id`, `products`.`atr_product_id` AS `products.atr_product_id`, `products`.`atr_cantidad` AS `products.atr_cantidad`, `products`.`atr_unidad` AS `products.atr_unidad`, `products->product`.`atr_id_producto` AS `products.product.atr_id_producto`, `products->product`.`atr_nombre_producto` AS `products.product.atr_nombre_producto` FROM `tbl_tratamiento_procedimiento` AS `TreatmentProcedure` LEFT OUTER JOIN `tbl_medico` AS `Medico` ON `TreatmentProcedure`.`atr_id_medico` = `Medico`.`atr_id_medico` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `products` ON `TreatmentProcedure`.`atr_id_procedimiento` = `products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `products->product` ON `products`.`atr_product_id` = `products->product`.`atr_id_producto` WHERE `TreatmentProcedure`.`atr_id_tratamiento` = '4' ORDER BY `TreatmentProcedure`.`atr_programado_para` ASC;","sqlMessage":"Unknown column 'products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `TreatmentProcedure`.`atr_id_procedimiento`, `TreatmentProcedure`.`atr_id_tratamiento`, `TreatmentProcedure`.`atr_procedimiento_tipo`, `TreatmentProcedure`.`atr_procedimiento_codigo`, `TreatmentProcedure`.`atr_procedimiento_nombre`, `TreatmentProcedure`.`atr_area`, `TreatmentProcedure`.`atr_programado_para`, `TreatmentProcedure`.`atr_ejecutado_el`, `TreatmentProcedure`.`atr_id_medico`, `TreatmentProcedure`.`atr_estado`, `TreatmentProcedure`.`atr_resultado`, `TreatmentProcedure`.`atr_imagen_pre`, `TreatmentProcedure`.`atr_imagen_post`, `TreatmentProcedure`.`atr_recomendaciones`, `Medico`.`atr_id_medico` AS `Medico.atr_id_medico`, `Medico`.`atr_nombre` AS `Medico.atr_nombre`, `Medico`.`atr_apellido` AS `Medico.atr_apellido`, `products`.`atr_procedimiento_id` AS `products.atr_procedimiento_id`, `products`.`atr_product_id` AS `products.atr_product_id`, `products`.`atr_cantidad` AS `products.atr_cantidad`, `products`.`atr_unidad` AS `products.atr_unidad`, `products->product`.`atr_id_producto` AS `products.product.atr_id_producto`, `products->product`.`atr_nombre_producto` AS `products.product.atr_nombre_producto` FROM `tbl_tratamiento_procedimiento` AS `TreatmentProcedure` LEFT OUTER JOIN `tbl_medico` AS `Medico` ON `TreatmentProcedure`.`atr_id_medico` = `Medico`.`atr_id_medico` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `products` ON `TreatmentProcedure`.`atr_id_procedimiento` = `products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `products->product` ON `products`.`atr_product_id` = `products->product`.`atr_id_producto` WHERE `TreatmentProcedure`.`atr_id_tratamiento` = '4' ORDER BY `TreatmentProcedure`.`atr_programado_para` ASC;","sqlMessage":"Unknown column 'products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `TreatmentProcedure`.`atr_id_procedimiento`, `TreatmentProcedure`.`atr_id_tratamiento`, `TreatmentProcedure`.`atr_procedimiento_tipo`, `TreatmentProcedure`.`atr_procedimiento_codigo`, `TreatmentProcedure`.`atr_procedimiento_nombre`, `TreatmentProcedure`.`atr_area`, `TreatmentProcedure`.`atr_programado_para`, `TreatmentProcedure`.`atr_ejecutado_el`, `TreatmentProcedure`.`atr_id_medico`, `TreatmentProcedure`.`atr_estado`, `TreatmentProcedure`.`atr_resultado`, `TreatmentProcedure`.`atr_imagen_pre`, `TreatmentProcedure`.`atr_imagen_post`, `TreatmentProcedure`.`atr_recomendaciones`, `Medico`.`atr_id_medico` AS `Medico.atr_id_medico`, `Medico`.`atr_nombre` AS `Medico.atr_nombre`, `Medico`.`atr_apellido` AS `Medico.atr_apellido`, `products`.`atr_procedimiento_id` AS `products.atr_procedimiento_id`, `products`.`atr_product_id` AS `products.atr_product_id`, `products`.`atr_cantidad` AS `products.atr_cantidad`, `products`.`atr_unidad` AS `products.atr_unidad`, `products->product`.`atr_id_producto` AS `products.product.atr_id_producto`, `products->product`.`atr_nombre_producto` AS `products.product.atr_nombre_producto` FROM `tbl_tratamiento_procedimiento` AS `TreatmentProcedure` LEFT OUTER JOIN `tbl_medico` AS `Medico` ON `TreatmentProcedure`.`atr_id_medico` = `Medico`.`atr_id_medico` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `products` ON `TreatmentProcedure`.`atr_id_procedimiento` = `products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `products->product` ON `products`.`atr_product_id` = `products->product`.`atr_id_producto` WHERE `TreatmentProcedure`.`atr_id_tratamiento` = '4' ORDER BY `TreatmentProcedure`.`atr_programado_para` ASC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async TreatmentProcedure.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.listByTreatment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\treatmentProcedureController.js:12:24)","timestamp":"2025-11-24 19:58:26"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-24 20:28:52"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-24 20:28:52"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobs (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:52:25)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-24 20:28:52"}
{"error":"Cannot read properties of undefined (reading 'schedulerService')","level":"error","message":"Error obteniendo estadísticas de jobs:","service":"clinica-estetica-api","stack":"TypeError: Cannot read properties of undefined (reading 'schedulerService')\n    at getJobStats (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\schedulerController.js:71:26)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at isAdmin (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Middlewares\\authMiddleware.js:59:5)\n    at Layer.handle [as handle_request] (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-11-24 20:28:52"}
{"error":"El médico no tiene horario disponible para Miércoles","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Miércoles\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:116:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 21:53:43"}
{"error":"El médico no tiene horario disponible para Miércoles","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Miércoles\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:116:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 21:53:54"}
{"error":"Conflicto de horario: El médico ya tiene una cita programada en este horario","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: Conflicto de horario: El médico ya tiene una cita programada en este horario\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:155:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 21:54:13"}
{"error":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 21:57:33"}
{"error":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 21:57:34"}
{"error":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 21:57:34"}
{"error":"Error: No se pudo registrar el evento de auditoría\n    at Object.registrarEvento (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\bitacoraService.js:25:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async registrarEventoBitacora (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\BitacoraController.js:14:28)\n    at async exports.update (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:314:7)","level":"error","message":"Error al registrar evento en bitácora: No se pudo registrar el evento de auditoría","service":"clinica-estetica-api","timestamp":"2025-11-24 22:05:15"}
{"error":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 22:05:17"}
{"error":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","level":"error","message":"Error obteniendo tratamientos:","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","sqlMessage":"Unknown column 'Procedures->products.atr_procedimiento_id' in 'field list'","sqlState":"42S22"},"service":"clinica-estetica-api","sql":"SELECT `tbl_tratamiento`.`atr_id_tratamiento`, `tbl_tratamiento`.`atr_id_paciente`, `tbl_tratamiento`.`atr_id_medico`, `tbl_tratamiento`.`atr_id_consulta`, `tbl_tratamiento`.`atr_fecha_inicio`, `tbl_tratamiento`.`atr_fecha_fin`, `tbl_tratamiento`.`atr_diagnostico`, `tbl_tratamiento`.`atr_observaciones`, `tbl_tratamiento`.`atr_numero_sesiones`, `tbl_tratamiento`.`atr_tipo_tratamiento`, `Procedures`.`atr_id_procedimiento` AS `Procedures.atr_id_procedimiento`, `Procedures`.`atr_id_tratamiento` AS `Procedures.atr_id_tratamiento`, `Procedures`.`atr_procedimiento_tipo` AS `Procedures.atr_procedimiento_tipo`, `Procedures`.`atr_procedimiento_codigo` AS `Procedures.atr_procedimiento_codigo`, `Procedures`.`atr_procedimiento_nombre` AS `Procedures.atr_procedimiento_nombre`, `Procedures`.`atr_area` AS `Procedures.atr_area`, `Procedures`.`atr_programado_para` AS `Procedures.atr_programado_para`, `Procedures`.`atr_ejecutado_el` AS `Procedures.atr_ejecutado_el`, `Procedures`.`atr_id_medico` AS `Procedures.atr_id_medico`, `Procedures`.`atr_estado` AS `Procedures.atr_estado`, `Procedures`.`atr_resultado` AS `Procedures.atr_resultado`, `Procedures`.`atr_imagen_pre` AS `Procedures.atr_imagen_pre`, `Procedures`.`atr_imagen_post` AS `Procedures.atr_imagen_post`, `Procedures`.`atr_recomendaciones` AS `Procedures.atr_recomendaciones`, `Procedures->products`.`atr_procedimiento_id` AS `Procedures.products.atr_procedimiento_id`, `Procedures->products`.`atr_product_id` AS `Procedures.products.atr_product_id`, `Procedures->products`.`atr_cantidad` AS `Procedures.products.atr_cantidad`, `Procedures->products`.`atr_unidad` AS `Procedures.products.atr_unidad`, `Procedures->products->product`.`atr_id_producto` AS `Procedures.products.product.atr_id_producto`, `Procedures->products->product`.`atr_nombre_producto` AS `Procedures.products.product.atr_nombre_producto`, `Procedures->products->product`.`atr_descripcion` AS `Procedures.products.product.atr_descripcion`, `Procedures->products->product`.`atr_codigo_barra` AS `Procedures.products.product.atr_codigo_barra`, `Procedures->products->product`.`atr_categoria` AS `Procedures.products.product.atr_categoria`, `Procedures->products->product`.`atr_unidad_medida` AS `Procedures.products.product.atr_unidad_medida`, `Procedures->products->product`.`atr_proveedor` AS `Procedures.products.product.atr_proveedor`, `Procedures->products->product`.`atr_precio_venta_unitario` AS `Procedures.products.product.atr_precio_venta_unitario`, `Procedures->products->product`.`atr_stock_actual` AS `Procedures.products.product.atr_stock_actual`, `Procedures->products->product`.`atr_stock_minimo` AS `Procedures.products.product.atr_stock_minimo`, `Procedures->products->product`.`atr_stock_maximo` AS `Procedures.products.product.atr_stock_maximo`, `Procedures->products->product`.`atr_activo` AS `Procedures.products.product.atr_activo`, `Procedures->products->product`.`atr_fecha_creacion` AS `Procedures.products.product.atr_fecha_creacion`, `Procedures->products->product`.`atr_fecha_actualizacion` AS `Procedures.products.product.atr_fecha_actualizacion`, `Procedures->products->product`.`atr_creado_por` AS `Procedures.products.product.atr_creado_por`, `Procedures->products->product`.`atr_modificado_por` AS `Procedures.products.product.atr_modificado_por` FROM `tbl_tratamiento` AS `tbl_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento` AS `Procedures` ON `tbl_tratamiento`.`atr_id_tratamiento` = `Procedures`.`atr_id_tratamiento` LEFT OUTER JOIN `tbl_tratamiento_procedimiento_producto` AS `Procedures->products` ON `Procedures`.`atr_id_procedimiento` = `Procedures->products`.`atr_procedimiento_id` LEFT OUTER JOIN `tbl_productos` AS `Procedures->products->product` ON `Procedures->products`.`atr_product_id` = `Procedures->products->product`.`atr_id_producto` WHERE `tbl_tratamiento`.`atr_id_consulta` = '4' ORDER BY `tbl_tratamiento`.`atr_fecha_inicio` DESC;","stack":"Error\n    at Query.run (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.select (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:407:12)\n    at async tbl_tratamiento.findAll (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\model.js:1140:21)\n    at async exports.getTreatments (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\consultationController.js:867:24)","timestamp":"2025-11-24 22:05:18"}
{"error":"El médico no tiene horario disponible para Miércoles","level":"error","message":"Error reprogramar cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Miércoles\n    at C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:281:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\node_modules\\sequelize\\lib\\sequelize.js:507:18\n    at async Object.reschedule (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:254:5)\n    at async reschedule (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:290:34)","timestamp":"2025-11-24 22:37:48"}
{"error":"El médico no tiene horario disponible para Martes","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Martes\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:116:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 22:43:45"}
{"error":"El médico no tiene horario disponible para Miércoles","level":"error","message":"Error creando cita","service":"clinica-estetica-api","stack":"Error: El médico no tiene horario disponible para Miércoles\n    at Object.createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\services\\appointmentService.js:116:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createAppointment (C:\\Users\\casal\\sistemaclinicaEsteticarosales\\Backend\\server\\Controllers\\appointmentController.js:111:27)","timestamp":"2025-11-24 22:46:35"}
